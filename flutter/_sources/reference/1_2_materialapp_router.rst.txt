MaterialApp.router 
====================

üìå What is MaterialApp.router()?
----------------------------------

MaterialApp.router() is a **special version of MaterialApp** that uses Flutter‚Äôs **new navigation system (Navigator 2.0 / Router API)** instead of the old one.

In simple words:

   **MaterialApp.router connects your app to a Router that decides which screen to show based on the URL and app state.**

It is mainly used for:
	‚Ä¢	Web apps

	‚Ä¢	Deep linking (/product/10)

	‚Ä¢	Complex navigation

	‚Ä¢	Enterprise-level apps

	‚Ä¢	Professional routing (GoRouter, Beamer, etc.)

**üß† Big idea in ONE LINE**

+-----------------------------+-------------------------------------------------+
| Old way                     | New way                                         |
+=============================+=================================================+
| MaterialApp()               | MaterialApp.router()                            |
+-----------------------------+-------------------------------------------------+
| ‚ÄúPush & pop pages manually‚Äù | ‚ÄúRouter decides the page for you‚Äù               |
+-----------------------------+-------------------------------------------------+
| Navigator 1.0               | Navigator 2.0                                   |
+-----------------------------+-------------------------------------------------+

**‚úÖ Basic Structure of MaterialApp.router()**

.. code-block:: dart 

    MaterialApp.router(
        routerConfig: myRouter,
    )

Instead of this (old way):

.. code-block:: dart 

    MaterialApp(
        home: HomePage(),
        routes: {...},
    )

You now write:

.. code-block:: dart 

    MaterialApp.router(
        routerConfig: myGoRouter,
    )

The **router** controls everything.

===========================================================================================================================

All named parameters
---------------------

**MaterialApp.router(**

    1.	**routerConfig:**

    2.	**routerDelegate:**

    3.	**routeInformationParser:**

    4.	**routeInformationProvider:**

    5.	**backButtonDispatcher:**

    6.	**builder:**

    7.	**title:**

    8.	**onGenerateTitle:**

    9.	**color:**

    10.	**theme:**

    11.	**darkTheme:**

    12.	**highContrastTheme:**

    13.	**highContrastDarkTheme:**

    14.	**themeMode:**

    15.	**themeAnimationDuration:**

    16.	**themeAnimationCurve:**

    17.	**themeAnimationStyle:**

    18.	**locale:**

    19.	**supportedLocales:**

    20.	**localizationsDelegates:**

    21.	**localeResolutionCallback:**

    22.	**localeListResolutionCallback:**

    23.	**debugShowCheckedModeBanner:**

    24.	**debugShowMaterialGrid:**

    25.	**showPerformanceOverlay:**

    26.	**showSemanticsDebugger:**

    27.	**shortcuts:**

    28.	**actions:**

    29.	**restorationScopeId:**

    30.	**scrollBehavior:**

    31.	**onNavigationNotification:**

**)**

‚úÖ1.routerConfig:
---------------------

This example uses **GoRouter** (a popular routing package) to show two pages: **Home** and **About.**

**‚úÖ Step 1: Add dependency in pubspec.yaml**

.. code-block:: yaml

    dependencies:
    flutter:
        sdk: flutter
    go_router: ^10.0.0

Run:

.. code-block:: bash 

    flutter pub get

**‚úÖ Step 2: main.dart (Simple program using routerConfig)**

.. code-block:: dart 

    import 'package:flutter/material.dart';
    import 'package:go_router/go_router.dart';

    void main() {
        runApp(const MyApp());
    }

    // Step 3: Define your router here
    final GoRouter _router = GoRouter(
        routes: [
            GoRoute(
                path: '/',
                builder: (context, state) => const HomePage(),
            ),
            GoRoute(
                path: '/about',
                builder: (context, state) => const AboutPage(),
            ),
        ],
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,
                routerConfig: _router,   // üëà THIS IS THE MAIN PART
            );
        }
    }

    /* ------------------ HOME PAGE ------------------ */
    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(title: const Text('Home')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            context.go('/about');    // Navigate using router
                        },
                        child: const Text('Go to About Page'),
                    ),
                ),
            );
        }
    }

    /* ------------------ ABOUT PAGE ------------------ */
    class AboutPage extends StatelessWidget {
        const AboutPage({super.key});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(title: const Text('About')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            context.go('/');  // Go back to Home
                        },
                        child: const Text('Back to Home'),
                    ),
                ),
            );
        }
    }

**üîç What exactly is routerConfig doing?**

routerConfig is the **brain of the navigation system.**

It tells Flutter:

    ‚úÖ What pages exist

    ‚úÖ What their paths are (/ and /about)

    ‚úÖ How to move between them

**This line connects everything:**

.. code-block:: dart 

    routerConfig: _router,

Without this, the app doesn‚Äôt know how to handle the routes.

---------------------------------------------------------------------------------------------------------------------

üß† Short explanation (easy words)

Think of routerConfig like a **map:**
	‚Ä¢	/ ‚Üí HomePage

	‚Ä¢	/about ‚Üí AboutPage

When you say:

.. code-block:: dart 

    context.go('/about');

Flutter looks at routerConfig and says:

    ‚ÄúOkay, /about = AboutPage‚Äù ‚Üí then opens that screen.

===========================================================================================================================

‚úÖ2.routerDelegate:
-----------------------

Here is a **very simple and clean Flutter example** that demonstrates the **routerDelegate: parameter in MaterialApp.router** using a **custom RouterDelegate.**

This is the **pure Flutter way** (no go_router, no packages) so you can clearly understand how routerDelegate works.

**‚úÖ What this example does**

Two pages:
	‚Ä¢	Home page

	‚Ä¢	About page

A custom MyRouterDelegate decides which page is shown.

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================== MY APP ================== */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        // Create delegate + parser once
        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá Focus of this example
                routerDelegate: _routerDelegate,               // RouterDelegate<Object>
                routeInformationParser: _routeInformationParser, // RouteInformationParser<Object>
            );
        }
    }

    /* =========== ROUTER DELEGATE =========== */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        MyRouterDelegate();

        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        bool _showAboutPage = false;

        // Helper methods to control navigation
        void goToAbout() {
            _showAboutPage = true;
            notifyListeners(); // tell Router to rebuild Navigator
        }

        void goToHome() {
            _showAboutPage = false;
            notifyListeners();
        }

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: [
                    MaterialPage(
                        key: const ValueKey('HomePage'),
                        child: const HomePage(),
                    ),
                    if (_showAboutPage)
                    MaterialPage(
                        key: const ValueKey('AboutPage'),
                        child: const AboutPage(),
                    ),
                ],

                // ‚úÖ New API ‚Äì used instead of deprecated onPopPage
                onDidRemovePage: (Page<Object?> page) {
                    // If the About page was removed (e.g. back button),
                    // update our internal state to match.
                    if (page.key == const ValueKey('AboutPage')) {
                        _showAboutPage = false;
                        notifyListeners();
                    }
                },
            );
        }

        // Required by RouterDelegate<Object>
        @override
        Future<void> setNewRoutePath(Object configuration) async {
            // configuration is whatever parseRouteInformation returns.
            // For our simple example we only care about '/' and '/about'.
            if (configuration == '/about') {
                _showAboutPage = true;
            } else {
                _showAboutPage = false;
            }
            // no need to notifyListeners() here usually; Router may rebuild.
        }
    }

    /* ======== ROUTE INFORMATION PARSER ======== */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            // Very simple: check the path
            final location = routeInformation.location ?? '/';
            final uri = Uri.parse(location);

            if (uri.pathSegments.isNotEmpty && uri.pathSegments.first.toLowerCase() == 'about') {
                return '/about';
            }

            return '/'; // default
        }
    }

    /* ================== HOME PAGE ================== */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            // Get our custom delegate
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('Home Page')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            // üëá Using routerDelegate to navigate
                            delegate.goToAbout();
                        },
                        child: const Text('Go to About Page'),
                    ),
                ),
            );
        }
    }

    /* ================== ABOUT PAGE ================== */

    class AboutPage extends StatelessWidget {
        const AboutPage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('About Page')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            // Navigate back using routerDelegate
                            delegate.goToHome();
                        },
                        child: const Text('Back to Home'),
                    ),
                ),
            );
        }
    }

**1. Where is routerDelegate in your program?**

This line in **MyApp** is the important part:

.. code-block:: dart 

    return MaterialApp.router(
        debugShowCheckedModeBanner: false,
        routerDelegate: _routerDelegate,
        routeInformationParser: _routeInformationParser,
    );

Here:

.. code-block:: dart 

    final MyRouterDelegate _routerDelegate = MyRouterDelegate();

That means:

    You are telling Flutter:
    **‚ÄúDon‚Äôt handle navigation yourself ‚Äî let MyRouterDelegate control it.‚Äù**

So **routerDelegate is like the BRAIN of navigation** in your app.

**2. What is routerDelegate actually doing?**

The routerDelegate:
	‚Ä¢	Creates the **Navigator**

	‚Ä¢	Adds **pages to the Navigator stack**

	‚Ä¢	Removes **pages from the Navigator stack**

	‚Ä¢	Controls **which page is currently shown**

This is the part inside your MyRouterDelegate that does the real job:

.. code-block:: dart 

    @override
    Widget build(BuildContext context) {
        return Navigator(
            key: navigatorKey,

            pages: [
                MaterialPage(
                    key: const ValueKey('HomePage'),
                    child: const HomePage(),
                ),

                if (_showAboutPage)
                    MaterialPage(
                        key: const ValueKey('AboutPage'),
                        child: const AboutPage(),
                    ),
            ],

            onDidRemovePage: (Page<Object?> page) {
                if (page.key == const ValueKey('AboutPage')) {
                    _showAboutPage = false;
                    notifyListeners();
                }
            },
        );
    }

This means:
	‚Ä¢	Home page is **always shown**

	‚Ä¢	About page is shown **only when:**

.. code-block:: dart 

    _showAboutPage == true

So your routerDelegate says:

    If _showAboutPage is true ‚Üí show About page

    If false ‚Üí don‚Äôt show About page

That‚Äôs total control.

**3. How does navigation happen?**

In your HomePage you wrote:

.. code-block:: dart 

    final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

    onPressed: () {
        delegate.goToAbout();
    }

This method is inside MyRouterDelegate:

.. code-block:: dart 

    void goToAbout() {
        _showAboutPage = true;
        notifyListeners();
    }

So the flow is:
	1.	Button pressed ‚Üí delegate.goToAbout()

	2.	_showAboutPage = true

	3.	notifyListeners() tells Flutter: **‚ÄúRebuild pages‚Äù**

	4.	build() runs again

	5.	Now About page is added to pages

	6.	You see the **About Screen**

**That is routerDelegate in action.**

It is NOT using Navigator.push()

It is using **state-based navigation** controlled by the **delegate.**

**4. Back button & onDidRemovePage**

When you press the back button on Android or the back gesture on iOS:

Flutter removes the page.

This code handles that:

.. code-block:: dart 

    onDidRemovePage: (Page<Object?> page) {
        if (page.key == const ValueKey('AboutPage')) {
            _showAboutPage = false;
            notifyListeners();
        }
    },

This means:

If About page is removed ‚Üí switch _showAboutPage back to false ‚Üí show Home again

Again, that logic is in **routerDelegate.**

So routerDelegate is not just about going forward ‚Äî it also controls **back navigation.**

**5. Simple understanding (real-life example)**

Think of routerDelegate as a **security guard at a door:**

    You: ‚ÄúLet the user in‚Äù
    Delegate: ‚úÖ shows page

    You: ‚ÄúSend the user back‚Äù
    Delegate: ‚úÖ removes page

    You: ‚ÄúOnly allow About page if true‚Äù
    Delegate: ‚úÖ uses condition (_showAboutPage)

So:

+------------------------+------------------------------------+
| Thing                  | Who controls it?                   |
+========================+====================================+
| Showing Home           | routerDelegate                     |
+------------------------+------------------------------------+
| Showing About          | routerDelegate                     |
+------------------------+------------------------------------+
| Going back             | routerDelegate                     |
+------------------------+------------------------------------+
| Page stack             | routerDelegate                     |
+------------------------+------------------------------------+


**6. Short definition (you can remember this)**

    **routerDelegate: is a controller that decides which pages are in your app‚Äôs navigation stack and when they appear or disappear.**

In very simple words:

    **routerDelegate = Navigation Brain**

===========================================================================================================================

‚úÖ3.routeInformationParser:
-------------------------------

**‚úÖ What this program shows**

	‚Ä¢	How routeInformationParser reads a **URL/path** (like / or /about)

	‚Ä¢	How it converts that into **app state**

	‚Ä¢	How routerDelegate uses that state to show the correct page

You can run this on **mobile or web.**

**‚úÖ Complete Working Example (main.dart)**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá This is our focus
                routeInformationParser: _routeInformationParser,

                // RouterDelegate uses the parsed information
                routerDelegate: _routerDelegate,
            );
        }
    }

    /* ============= ROUTER DELEGATE ============= */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        bool _isAboutPage = false;

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,

                pages: [
                    const MaterialPage(
                        key: ValueKey('HomePage'),
                        child: HomePage(),
                    ),

                    if (_isAboutPage)
                    const MaterialPage(
                        key: ValueKey('AboutPage'),
                        child: AboutPage(),
                    ),
                ],

                onDidRemovePage: (Page<Object?> page) {
                    if (page.key == const ValueKey('AboutPage')) {
                        _isAboutPage = false;
                        notifyListeners();
                    }
                },
            );
        }

        // This gets the result FROM the RouteInformationParser
        @override
        Future<void> setNewRoutePath(Object configuration) async {
            if (configuration == '/about') {
                _isAboutPage = true;
            } else {
                _isAboutPage = false;
            }
        }

        // Manual navigation (button)
        void goToAbout() {
            _isAboutPage = true;
            notifyListeners();
        }

        void goHome() {
            _isAboutPage = false;
            notifyListeners();
        }
    }

    /* ===== ROUTE INFORMATION PARSER (MAIN FOCUS) ===== */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            // This is the URL/path in the browser or deep link
            final location = routeInformation.location ?? '/';

            debugPrint('URL received: $location');

            // Convert URL into something the RouterDelegate understands
            if (location.toLowerCase() == '/about') {
                return '/about';   // send to RouterDelegate
            }

            return '/'; // default
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('Home')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            delegate.goToAbout();
                        },
                        child: const Text('Go to About'),
                    ),
                ),
            );
        }
    }

    /* ================= ABOUT ================= */

    class AboutPage extends StatelessWidget {
        const AboutPage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('About')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            delegate.goHome();
                        },
                        child: const Text('Back to Home'),
                    ),
                ),
            );
        }
    }

**üß† What is routeInformationParser in simple words?**

**Very simple definition:**

routeInformationParser = the **translator between URL and your app**

Example:

+---------------------------+-------------------------------------+--------------------------+
| Browser URL               | Parsed by routeInformationParser    | Result                   |
+===========================+=====================================+==========================+
| /                         | '/'                                 | Home Page                |
+---------------------------+-------------------------------------+--------------------------+
| /about                    | '/about'                            | About Page               |
+---------------------------+-------------------------------------+--------------------------+

This part is the key:

.. code-block:: dart 

    final location = routeInformation.location ?? '/';

    if (location == '/about') {
        return '/about';
    }

    return '/';

You are saying:

    ‚ÄúWhen the URL is /about, I want to show the About page.‚Äù

That value is passed into this in RouterDelegate:

.. code-block:: dart 

    Future<void> setNewRoutePath(Object configuration)

So:
	1.	User types /about

	2.	routeInformationParser reads /about

	3.	Sends /about to RouterDelegate

	4.	RouterDelegate shows About page

‚úÖ That is exactly **how deep linking & web routing work**

**Super-short memory tip**

**routeInformationParser = URL Reader + Translator**

	‚Ä¢	Reads browser URL

	‚Ä¢	Converts it to app state

	‚Ä¢	Sends to routerDelegate

**routerDelegate = Page Controller**

===========================================================================================================================

‚úÖ4.routeInformationProvider:
---------------------------------

**üß† First ‚Äì What is routeInformationProvider?**

In simple words:

    **routeInformationProvider is the source of the route (URL/path) for your app.**

It **provides** the current route (like / or /about) to:
	‚Ä¢	routeInformationParser

	‚Ä¢	routerDelegate

Without it, Flutter uses a default one (from the platform).
When you provide your own ‚Äî **you are the source of the route.**

Think of it like:

    **‚ÄúWhere does the app get the current path from?‚Äù**

**‚úÖ Simple Working Example: routeInformationProvider**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();

        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        // üëá THIS IS OUR CUSTOM PROVIDER
        final MyRouteInformationProvider _routeInformationProvider = MyRouteInformationProvider();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üîπ MAIN FOCUS OF THIS EXAMPLE
                routeInformationProvider: _routeInformationProvider,

                routeInformationParser: _routeInformationParser,
                routerDelegate: _routerDelegate,
            );
        }
    }

    /* ============ CUSTOM ROUTE INFORMATION PROVIDER ============ */

    class MyRouteInformationProvider extends RouteInformationProvider with ChangeNotifier {
        RouteInformation _value = const RouteInformation(location: '/'); // default route

        @override
        RouteInformation get value => _value;

        // Custom method to update route
        void updateRoute(String newLocation) {
            _value = RouteInformation(location: newLocation);
            notifyListeners();
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        bool _isAboutPage = false;

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: [
                    const MaterialPage(
                        key: ValueKey('home'),
                        child: HomePage(),
                    ),
                    if (_isAboutPage)
                    const MaterialPage(
                        key: ValueKey('about'),
                        child: AboutPage(),
                    ),
                ],

                onDidRemovePage: (Page<Object?> page) {
                    if (page.key == const ValueKey('about')) {
                        _isAboutPage = false;
                        notifyListeners();
                    }
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {
            if (configuration == '/about') {
                _isAboutPage = true;
            } else {
                _isAboutPage = false;
            }
        }
    }

    /* ============ PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            final location = routeInformation.location ?? '/';

            if (location == '/about') return '/about';

            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            final provider = Router.of(context).routeInformationProvider
                as MyRouteInformationProvider;

            return Scaffold(
                appBar: AppBar(title: const Text('Home')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            // Change route using Provider
                            provider.updateRoute('/about'); // üëà THIS LINE
                            delegate.notifyListeners();      // refresh router
                        },
                        child: const Text('Go to About'),
                    ),
                ),
            );
        }
    }

    /* ================= ABOUT ================= */

    class AboutPage extends StatelessWidget {
        const AboutPage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            final provider = Router.of(context).routeInformationProvider
                as MyRouteInformationProvider;

            return Scaffold(
                appBar: AppBar(title: const Text('About')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            provider.updateRoute('/'); // go back
                            delegate.notifyListeners();
                        },
                        child: const Text('Back to Home'),
                    ),
                ),
            );
        }
    }

**üîç Focus on routeInformationProvider**

This is the **key line in MyApp:**

.. code-block:: dart 

    routeInformationProvider: _routeInformationProvider,

And this is the **core logic:**

.. code-block:: dart 

    class MyRouteInformationProvider extends RouteInformationProvider with ChangeNotifier {

        RouteInformation _value = const RouteInformation(location: '/');

        @override
        RouteInformation get value => _value;

        void updateRoute(String newLocation) {
            _value = RouteInformation(location: newLocation);
            notifyListeners();
        }
    }

**What this means:**

	‚Ä¢	_value stores the **current route**

	‚Ä¢	value gives the route to Flutter

	‚Ä¢	notifyListeners() tells Flutter:

‚ÄúHey! The route has changed!‚Äù

In your buttons:

.. code-block:: dart 

    provider.updateRoute('/about');

That is how you **change the URL/route** using the **provider.**

**üß† Simple understanding (remember this)**

+----------------------------+------------------------------------+
| Part                       | Job                                |
+============================+====================================+
| routeInformationProvider   | Gives current route (URL)          |
+----------------------------+------------------------------------+
| routeInformationParser     | Reads & translates the route       |
+----------------------------+------------------------------------+
| routerDelegate             | Shows correct pages                |
+----------------------------+------------------------------------+

Think like this:

    Provider = ‚ÄúHere is the path‚Äù

    Parser = ‚ÄúI understand the path‚Äù

    Delegate = ‚ÄúI show the page‚Äù

===========================================================================================================================

‚úÖ5.backButtonDispatcher:
-----------------------------

**üß† What is backButtonDispatcher (in simple words)?**

**backButtonDispatcher controls who handles the BACK button first.**

It decides:
	‚Ä¢	Should the Router handle back?

	‚Ä¢	Or should the Navigator handle back?

	‚Ä¢	Or should I override it?

Normally Flutter does it automatically‚Ä¶

But with backButtonDispatcher, you can **take control.**

**‚úÖ Simple working example showing backButtonDispatcher**

This app has:
	‚Ä¢	Home page

	‚Ä¢	About page

Using back button:
	‚Ä¢	Goes back to home

	‚Ä¢	Then exits app

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        // üëá CUSTOM BACK BUTTON DISPATCHER
        final RootBackButtonDispatcher _backButtonDispatcher =
            RootBackButtonDispatcher();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                // ‚úÖ THIS IS THE POINT OF THIS EXAMPLE
                backButtonDispatcher: _backButtonDispatcher,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        bool _showAbout = false;

        void goToAbout() {
            _showAbout = true;
            notifyListeners();
        }

        void goHome() {
            _showAbout = false;
            notifyListeners();
        }

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,

                pages: [
                    const MaterialPage(
                        key: ValueKey('home'),
                        child: HomePage(),
                    ),

                    if (_showAbout)
                    const MaterialPage(
                        key: ValueKey('about'),
                        child: AboutPage(),
                    ),
                ],

                onDidRemovePage: (Page<Object?> page) {
                    if (page.key == const ValueKey('about')) {
                        _showAbout = false;
                        notifyListeners();
                    }
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {
            if (configuration == '/about') {
                _showAbout = true;
            } else {
                _showAbout = false;
            }
        }
    }

    /* ============ PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            final location = routeInformation.location ?? '/';
            return location;
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('Home Page')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            delegate.goToAbout();
                        },
                        child: const Text('Go to About Page'),
                    ),
                ),
            );
        }
    }

    /* ================= ABOUT ================= */

    class AboutPage extends StatelessWidget {
        const AboutPage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('About Page')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            delegate.goHome();
                        },
                        child: const Text('Back to Home'),
                    ),
                ),
            );
        }
    }

**üîç What part is backButtonDispatcher?**

This is the key line:

.. code-block:: dart 

    final RootBackButtonDispatcher _backButtonDispatcher = RootBackButtonDispatcher();

And it is connected here:

.. code-block:: dart 

    MaterialApp.router(
        backButtonDispatcher: _backButtonDispatcher,
    )

This says:

    ‚ÄúLet the Router system manage the back button in a smart way.‚Äù

When you press:
	‚Ä¢	Back on **About page** ‚Üí it goes to **Home**

	‚Ä¢	Back on **Home** ‚Üí app closes (or browser back works)

The RootBackButtonDispatcher automatically gives **priority to the router.**

**üß† Ultra-simple summary (remember this)**

+------------------------------------+----------------------------------------------------+
| Parameter                          | Job                                                |
+====================================+====================================================+
| backButtonDispatcher               | Controls back button behavior                      |
+------------------------------------+----------------------------------------------------+
| routerDelegate                     | Controls pages                                     |
+------------------------------------+----------------------------------------------------+
| routeInformationParser             | Reads URL                                          |
+------------------------------------+----------------------------------------------------+

**Real life analogy:**

    backButtonDispatcher = traffic police for the back button

===========================================================================================================================

‚úÖ6.builder:
----------------

**üß† What is builder: in MaterialApp.router?**

**In very simple words:**

builder is a **wrapper** around the whole app.

Whatever you put in builder will be applied to **every page** in your app ‚Äî like a global layer.

You can use it for:
	‚Ä¢	Themes

	‚Ä¢	MediaQuery changes

	‚Ä¢	Overlays

	‚Ä¢	Global widgets (like banners, watermarks, padding, etc.)

Think like this:

    builder = ‚ÄúWrap my entire app inside this widget‚Äù

**‚úÖ Simple example: builder: in action**

This example wraps **every page** inside a **blue border and padding**, so you can visually see the effect of builder.

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,
                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                // builder example still here
                builder: (context, child) {
                    return Container(
                        padding: const EdgeInsets.all(20),
                        decoration: BoxDecoration(
                            border: Border.all(width: 4),
                        ),
                        child: child ?? const SizedBox.shrink(),
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        bool _showAbout = false;

        void goToAbout() {
            _showAbout = true;
            notifyListeners();
        }

        void goHome() {
            _showAbout = false;
            notifyListeners();
        }

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: [
                    const MaterialPage(
                        key: ValueKey('home'),
                        child: HomePage(),
                    ),
                    if (_showAbout)
                    const MaterialPage(
                        key: ValueKey('about'),
                        child: AboutPage(),
                    ),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {
            _showAbout = configuration == '/about';
        }
    }

    /* ============ FIXED PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {

            // ‚úÖ NEW WAY (no deprecation)
            final Uri uri = routeInformation.uri;

            if (uri.path == '/about') {
                return '/about';
            }

            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('Home Page')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            delegate.goToAbout();
                        },
                        child: const Text('Go to About Page'),
                    ),
                ),
            );
        }
    }

    /* ================= ABOUT ================= */

    class AboutPage extends StatelessWidget {
        const AboutPage({super.key});

        @override
        Widget build(BuildContext context) {
            final delegate = Router.of(context).routerDelegate as MyRouterDelegate;

            return Scaffold(
                appBar: AppBar(title: const Text('About Page')),
                body: Center(
                    child: ElevatedButton(
                        onPressed: () {
                            delegate.goHome();
                        },
                        child: const Text('Back to Home'),
                    ),
                ),
            );
        }
    }

**üîç Focus: THIS is the builder parameter**

.. code-block:: dart 

    builder: (context, child) {
        return Container(
            padding: const EdgeInsets.all(20),
            decoration: BoxDecoration(
            border: Border.all(color: Colors.blue, width: 4),
            ),
            child: child,
        );
    },

**What this means**
	‚Ä¢	child = the page that router is building (Home / About)

	‚Ä¢	We wrap that page in a Container

	‚Ä¢	That container has:

	‚Ä¢	Padding

	‚Ä¢	Blue border

So **every page in your app** will appear inside that blue bordered container.

This is why it is called **global wrapper.**

**üß† Simple memory tip**

+-------------------------+------------------------------------+
| Parameter               | What it does                       |
+=========================+====================================+
| builder:                | Wraps the whole app                |
+-------------------------+------------------------------------+
| routerDelegate:         | Controls pages                     |
+-------------------------+------------------------------------+
| routeInformationParser: | Reads URL                          |
+-------------------------+------------------------------------+

    builder = **Global decorator / wrapper**

‚úÖ7.title:
--------------

**‚úÖ Simple program to describe title: in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá THIS is the focus of this example
                title: 'My Router App',

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(
                        child: HomePage(),
                    ),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {
            // Not needed for this simple example
        }
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
    @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(title: const Text('Home Page')),
                body: const Center(
                    child: Text(
                        'Look at the browser tab or task switcher title!',
                        textAlign: TextAlign.center,
                    ),
                ),
            );
        }
    }

**üß† What does title: actually do?**

This line:

.. code-block:: dart 

    title: 'My Router App',

Controls:

**‚úÖ On Flutter Web**
	
‚Ä¢	The **browser tab name** becomes:

    **My Router App**

**‚úÖ On Android / iOS**
	‚Ä¢	Shows in the **app switcher**

	‚Ä¢	Helps OS identify your app

**‚ùå It does NOT affect**
	‚Ä¢	AppBar title

	‚Ä¢	Page title inside the screen

For that, you still use:

.. code-block:: dart 

    AppBar(title: Text('Home Page'))

**üß© Simple comparison**

+----------------------------+------------------------------------+
| Code                       | Result                             |
+============================+====================================+
| title: 'My Router App'     | Changes browser/app name           |
+----------------------------+------------------------------------+
| AppBar(title: Text('Home'))| Changes top bar text               |
+----------------------------+------------------------------------+

**‚úÖ Very short definition**

    **title: in MaterialApp.router is the name of the app for the operating system and browser, not the page content.**

‚úÖ8.onGenerateTitle:
-------------------------

**‚úÖ Simple program to describe onGenerateTitle**

.. code-block:: dart

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá FOCUS: Dynamic title instead of fixed `title:`
                onGenerateTitle: (context) {
                    return 'Dynamic Router Title';
                },

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(
                        child: HomePage(),
                    ),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {
            // Not needed for this simple example
        }
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
            appBar: AppBar(title: const Text('Home Page')),
            body: const Center(
                child: Text(
                    'Look at browser tab / app switcher title',
                    textAlign: TextAlign.center,
                ),
            ),
            );
        }
    }

**üß† What does onGenerateTitle really do?**

This line is the main point:

.. code-block:: dart 

    onGenerateTitle: (context) {
        return 'Dynamic Router Title';
    },

Instead of a fixed title:

.. code-block:: dart 

        title: 'My App',
    
you now **generate the title at runtime** using a function.

That function:
	‚Ä¢	Gets a BuildContext

	‚Ä¢	Must return a String

So this is possible too:

.. code-block:: dart 

    onGenerateTitle: (context) {
        final hour = DateTime.now().hour;
        return hour < 12 ? 'Good Morning App' : 'Good Evening App';
    },

Now the app title changes based on time ‚úÖ

**‚úÖ Important rule**

You should use:
	‚Ä¢	Either **title:**

	‚Ä¢	Or **onGenerateTitle:**

Not both.
If both are present ‚Üí onGenerateTitle wins.

**Very simple meaning**

    title: = static name

    onGenerateTitle: = dynamic name (calculated by a function)

===========================================================================================================================

‚úÖ9.color:
---------------

**‚úÖ Simple program to describe color: in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá THIS is the focus of this example
                color: Colors.blue,   // Background color for the app window

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        @override
        final GlobalKey<NavigatorState> navigatorKey =
            GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(
                        child: HomePage(),
                    ),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {
            // Not needed for this example
        }
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(
            RouteInformation routeInformation,
        ) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                backgroundColor: Colors.white, // Contrast with app color
                appBar: AppBar(title: const Text('Color Demo')),
                body: const Center(
                    child: Text(
                        'The BLUE you see behind this page\ncomes from MaterialApp.color',
                        textAlign: TextAlign.center,
                    ),
                ),
            );
        }
    }

**üß† What does color: actually do?**

This line:

.. code-block:: dart 

    color: Colors.blue,

Controls the **background color behind your app‚Äôs pages.**

Important facts:

+-------------------------------------------+----------------------------------------+
| Thing                                     | Is it affected by color:?              |
+===========================================+========================================+
| Scaffold background                       | ‚ùå No                                  |
+-------------------------------------------+----------------------------------------+
| Container color                           | ‚ùå No                                  |
+-------------------------------------------+----------------------------------------+
| AppBar color                              | ‚ùå No                                  |
+-------------------------------------------+----------------------------------------+
| Behind the entire app (window/background) | ‚úÖ YES                                 |
+-------------------------------------------+----------------------------------------+

If your Scaffold has transparent sections, you will see the MaterialApp.color behind it.

**‚úÖ Where you notice it most**

You‚Äôll notice the color more clearly when:
	‚Ä¢	Using web
	‚Ä¢	Using transparent widgets
	‚Ä¢	During transitions/loading
	‚Ä¢	On splash / root level

It‚Äôs basically the **base / root color of the app window.**

**Super short definition**

    **color: in MaterialApp.router is the base background color behind your entire app.**

‚úÖ10.theme:
--------------

**‚úÖ Simple program to describe theme: in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá THIS is the focus of this example
                theme: ThemeData(
                    primaryColor: Colors.deepPurple,
                    appBarTheme: const AppBarTheme(
                        backgroundColor: Colors.deepPurple,
                    ),
                    elevatedButtonTheme: ElevatedButtonThemeData(
                        style: ElevatedButton.styleFrom(
                            backgroundColor: Colors.deepPurple,
                            foregroundColor: Colors.white,
                        ),
                    ),
                    textTheme: const TextTheme(
                        bodyMedium: TextStyle(fontSize: 18),
                    ),
                ),

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(child: HomePage()),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {
            // Not needed for this simple example
        }
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(
                    title: const Text('Theme Demo'),
                ),

                body: Center(
                    child: Column(
                        mainAxisAlignment: MainAxisAlignment.center,
                        children: const [
                            Text('This color comes from the Theme'),
                            SizedBox(height: 20),
                            ThemedButton(),
                        ],
                    ),
                ),
            );
        }
    }

    /* ================= BUTTON ================= */

    class ThemedButton extends StatelessWidget {
        const ThemedButton({super.key});

        @override
        Widget build(BuildContext context) {
            return ElevatedButton(
                onPressed: () {},
                child: const Text('Themed Button'),
            );
        }
    }

**üß† What does theme: do?**

This part is the key:

.. code-block:: dart 

    theme: ThemeData(
        primaryColor: Colors.deepPurple,
        appBarTheme: const AppBarTheme(
            backgroundColor: Colors.deepPurple,
        ),
        elevatedButtonTheme: ElevatedButtonThemeData(
            style: ElevatedButton.styleFrom(
                backgroundColor: Colors.deepPurple,
                foregroundColor: Colors.white,
            ),
        ),
    ),

It controls the **global design** of your app:

+-------------------------------+--------------------------------------+
| Widget                        | What changed                         |
+===============================+======================================+
| AppBar                        | Purple                               |
+-------------------------------+--------------------------------------+
| ElevatedButton                | Purple with white text               |
+-------------------------------+--------------------------------------+
| Text                          | Bigger (18px)                        |
+-------------------------------+--------------------------------------+
| Entire app look               | Styled by theme                      |
+-------------------------------+--------------------------------------+

You did **not** set any colors in:
	‚Ä¢	AppBar()

	‚Ä¢	ElevatedButton()

	‚Ä¢	Text()

The **theme applied it automatically ‚úÖ**

That is the purpose of theme:.

**‚úÖ Simple meaning (remember this)**

**theme: = global style controller for the entire app**

Instead of setting colors on every widget, you define them once in MaterialApp.router using ThemeData.

===========================================================================================================================

‚úÖ11.darkTheme:
------------------

**‚úÖ Simple program to describe darkTheme: in MaterialApp.router**

.. code-block:: dart

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá LIGHT THEME
                theme: ThemeData.light(),

                // üëá DARK THEME (MAIN FOCUS)
                darkTheme: ThemeData.dark(),

                // üëá Uses device/system setting (Light or Dark)
                themeMode: ThemeMode.system,

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

    @override
    final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

    @override
    Widget build(BuildContext context) {
        return Navigator(
            key: navigatorKey,
            pages: const [
                MaterialPage(child: HomePage()),
            ],
        );
    }

    @override
    Future<void> setNewRoutePath(Object configuration) async {
        // Not required for this example
    }
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            final brightness = Theme.of(context).brightness;

            return Scaffold(
                appBar: AppBar(
                    title: const Text('darkTheme Demo'),
                ),
                body: Center(
                    child: Text(
                        brightness == Brightness.dark
                            ? 'Dark Theme is ACTIVE'
                            : 'Light Theme is ACTIVE',
                        style: const TextStyle(fontSize: 20),
                    ),
                ),
            );
        }
    }

**üß† What is darkTheme: doing here?**

This line is the key:

.. code-block:: dart 

    darkTheme: ThemeData.dark(),

Together with:

.. code-block:: dart

    themeMode: ThemeMode.system,

It means:

+-------------------+--------------------------+
| System setting    | App uses                 |
+===================+==========================+
| Light mode        | theme:                   |
+-------------------+--------------------------+
| Dark mode         | darkTheme:               |
+-------------------+--------------------------+

So:

	‚Ä¢	Turn your **phone/computer to Dark Mode**

	‚Ä¢	Reload app ‚Üí UI becomes dark

	‚Ä¢	Switch back to Light Mode ‚Üí UI becomes light

That‚Äôs all controlled from **MaterialApp.router.**

**‚úÖ Important: Relationship of 3 things**

.. code-block:: dart 

    theme: ThemeData.light(),
    darkTheme: ThemeData.dark(),
    themeMode: ThemeMode.system,

+------------------------+-------------------------------------+
| Setting                | Meaning                             |
+========================+=====================================+
| theme                  | Light theme design                  |
+------------------------+-------------------------------------+
| darkTheme              | Dark theme design                   |
+------------------------+-------------------------------------+
| themeMode              | Which one to use                    |
+------------------------+-------------------------------------+

You can also force it:

.. code-block:: dart 

    themeMode: ThemeMode.dark   // Always dark
    themeMode: ThemeMode.light  // Always light

**üß© Super simple meaning**

    **darkTheme: is the design your app uses when system is in Dark Mode.**

===========================================================================================================================

‚úÖ12.highContrastTheme:
---------------------------

**‚úÖ Simple program for highContrastTheme in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // Normal light theme
                theme: ThemeData.light(),

                // Dark theme
                darkTheme: ThemeData.dark(),

                // ‚úÖ HIGH CONTRAST THEME (MAIN FOCUS)
                highContrastTheme: ThemeData(
                    brightness: Brightness.light,
                    primaryColor: Colors.black,
                    scaffoldBackgroundColor: Colors.yellow,
                    appBarTheme: const AppBarTheme(
                        backgroundColor: Colors.black,
                        foregroundColor: Colors.white,
                    ),
                    textTheme: const TextTheme(
                        bodyMedium: TextStyle(
                            fontSize: 20,
                            fontWeight: FontWeight.bold,
                            color: Colors.black,
                        ),
                    ),
                ),

                // Use system setting (Light / Dark / High Contrast)
                themeMode: ThemeMode.system,

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(child: HomePage()),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(
            RouteInformation routeInformation) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            final isHighContrast = MediaQuery.of(context).highContrast;
            final brightness = Theme.of(context).brightness;

            return Scaffold(
                appBar: AppBar(
                    title: const Text('High Contrast Demo'),
                ),
                body: Center(
                    child: Text(
                        isHighContrast
                            ? 'HIGH CONTRAST MODE ACTIVE'
                            : brightness == Brightness.dark
                                ? 'DARK MODE ACTIVE'
                                : 'LIGHT MODE ACTIVE',
                        textAlign: TextAlign.center,
                        style: const TextStyle(fontSize: 22),
                    ),
                ),
            );
        }
    }

**üß† What does highContrastTheme: do?**

This part is the key:

.. code-block:: dart 

    highContrastTheme: ThemeData(
        scaffoldBackgroundColor: Colors.yellow,
        appBarTheme: const AppBarTheme(
            backgroundColor: Colors.black,
            foregroundColor: Colors.white,
        ),
    ),

This tells Flutter:

    ‚ÄúWhen the user turns on **High Contrast Mode** for accessibility, use THIS theme.‚Äù

So you see:
	‚Ä¢	Bright background (yellow)

	‚Ä¢	Strong contrast text (black / white)

	‚Ä¢	Bigger & bolder text

This is for **people with visual difficulties üëì**

**‚úÖ When is this theme used?**

When the **device accessibility setting** is:

‚úÖ High Contrast ON
‚ùå Not normal light/dark switch

You can detect it with:

.. code-block:: dart 

    MediaQuery.of(context).highContrast

That‚Äôs how the app knows what to display.

**Simple memory tip**

+------------------------+-------------------------------+
| Setting                | Used when                     |
+========================+===============================+
| theme                  | Normal + Light Mode           |
+------------------------+-------------------------------+
| darkTheme              | Dark Mode                     |
+------------------------+-------------------------------+
|‚úÖ highContrastTheme    |Accessibility: High Contrast ON|
+------------------------+-------------------------------+

**highContrastTheme = special theme for accessibility users**

===========================================================================================================================

‚úÖ13.highContrastDarkTheme:
------------------------------

**‚úÖ Simple program for highContrastDarkTheme**

.. code-block:: dart

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatelessWidget {
        MyApp({super.key});

        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üåû Normal Light Theme
                theme: ThemeData.light(),

                // üåô Normal Dark Theme
                darkTheme: ThemeData.dark(),

                // ‚úÖ High Contrast (Light)
                highContrastTheme: ThemeData(
                    brightness: Brightness.light,
                    scaffoldBackgroundColor: Colors.yellow,
                    appBarTheme: const AppBarTheme(
                    backgroundColor: Colors.black,
                    foregroundColor: Colors.white,
                    ),
                ),

                // ‚úÖ High Contrast (Dark) ‚Äî MAIN FOCUS
                highContrastDarkTheme: ThemeData(
                    brightness: Brightness.dark,
                    scaffoldBackgroundColor: Colors.black,
                    appBarTheme: const AppBarTheme(
                        backgroundColor: Colors.white,
                        foregroundColor: Colors.black,
                    ),
                    textTheme: const TextTheme(
                        bodyMedium: TextStyle(
                            color: Colors.white,
                            fontSize: 22,
                            fontWeight: FontWeight.bold,
                        ),
                    ),
                    elevatedButtonTheme: ElevatedButtonThemeData(
                        style: ElevatedButton.styleFrom(
                            backgroundColor: Colors.white,
                            foregroundColor: Colors.black,
                        ),
                    ),
                ),

                // Use system settings
                themeMode: ThemeMode.system,

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
    @override
    final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

    @override
    Widget build(BuildContext context) {
        return Navigator(
            key: navigatorKey,
            pages: const [
                MaterialPage(child: HomePage()),
            ],
        );
    }

    @override
    Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(
            RouteInformation routeInformation) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        const HomePage({super.key});

        @override
        Widget build(BuildContext context) {
            final isHighContrast = MediaQuery.of(context).highContrast;
            final brightness = Theme.of(context).brightness;

            String mode;

            if (isHighContrast && brightness == Brightness.dark) {
                mode = 'HIGH CONTRAST DARK MODE ACTIVE';
                } else if (isHighContrast && brightness == Brightness.light) {
                    mode = 'HIGH CONTRAST LIGHT MODE ACTIVE';
                } else if (brightness == Brightness.dark) {
                    mode = 'NORMAL DARK MODE ACTIVE';
                } else {
                    mode = 'NORMAL LIGHT MODE ACTIVE';
            }

            return Scaffold(
                appBar: AppBar(
                    title: const Text('High Contrast Dark Demo'),
                ),
                body: Center(
                    child: Column(
                        mainAxisAlignment: MainAxisAlignment.center,
                        children: [
                            Text(
                                mode,
                                textAlign: TextAlign.center,
                            ),
                            const SizedBox(height: 20),
                            ElevatedButton(
                                onPressed: () {},
                                child: const Text('Sample Button'),
                            ),
                        ],
                    ),
                ),
            );
        }
    }

**üß† What is highContrastDarkTheme in simple words?**

**highContrastDarkTheme is used when the user turns ON:**
    ‚úÖ Dark Mode

    ‚úÖ High Contrast (in Accessibility)

This theme is created especially for:

	‚Ä¢	People with low vision

	‚Ä¢	Better readability

	‚Ä¢	Strong color contrast

That‚Äôs why we used:

	‚Ä¢	Black + White only

	‚Ä¢	Large bold fonts

	‚Ä¢	Strong contrast

**‚úÖ When will this theme activate?**

+--------------------+----------------------+-------------------------+
| System Mode        | High Contrast        | Theme Used              |
+====================+======================+=========================+
| Light              | OFF                  | theme                   |
+--------------------+----------------------+-------------------------+
| Dark               | OFF                  | darkTheme               |
+--------------------+----------------------+-------------------------+
| Light              | ON                   | highContrastTheme       |
+--------------------+----------------------+-------------------------+
| ‚úÖ Dark            | ‚úÖ ON                | highContrastDarkTheme   |
+--------------------+----------------------+-------------------------+

**Ultra-short memory tip**

    **highContrastDarkTheme = Dark Mode + Extra Visibility**

========================================================================================================================

‚úÖ14.themeMode:
------------------

This example lets you **switch between Light, Dark, and System mode** by pressing buttons ‚Äî so you can visually understand exactly what themeMode does.

**‚úÖ Simple program to describe themeMode: in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatefulWidget {
        const MyApp({super.key});

        @override
        State<MyApp> createState() => _MyAppState();
    }

    class _MyAppState extends State<MyApp> {
        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        // üëá Change this to control theme
        ThemeMode _themeMode = ThemeMode.system;

        void setLightMode() {
            setState(() {
                _themeMode = ThemeMode.light;
            });
        }

        void setDarkMode() {
            setState(() {
                _themeMode = ThemeMode.dark;
            });
        }

        void setSystemMode() {
            setState(() {
                _themeMode = ThemeMode.system;
            });
        }

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // ‚úÖ Light Theme
                theme: ThemeData(
                    brightness: Brightness.light,
                    primarySwatch: Colors.blue,
                ),

                // ‚úÖ Dark Theme
                darkTheme: ThemeData(
                    brightness: Brightness.dark,
                    primarySwatch: Colors.blue,
                ),

                // üëá MAIN FOCUS OF THIS EXAMPLE
                themeMode: _themeMode,

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                // Pass buttons to HomePage
                builder: (context, child) {
                    return HomePage(
                        setLight: setLightMode,
                        setDark: setDarkMode,
                        setSystem: setSystemMode,
                        child: child!,
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        @override
        final GlobalKey<NavigatorState> navigatorKey =
            GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(child: SizedBox()),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            return '/';
        }
    }

    /* ================= HOME ================= */

    class HomePage extends StatelessWidget {
        final VoidCallback setLight;
        final VoidCallback setDark;
        final VoidCallback setSystem;
        final Widget child;

        const HomePage({
            super.key,
            required this.setLight,
            required this.setDark,
            required this.setSystem,
            required this.child,
        });

        @override
        Widget build(BuildContext context) {
            final brightness = Theme.of(context).brightness;

            return Scaffold(
                appBar: AppBar(title: const Text('themeMode Demo')),
                body: Center(
                    child: Column(
                        mainAxisAlignment: MainAxisAlignment.center,
                        children: [
                            Text(
                                brightness == Brightness.dark
                                    ? 'CURRENT MODE: DARK'
                                    : 'CURRENT MODE: LIGHT',
                                style: const TextStyle(fontSize: 20),
                            ),
                            const SizedBox(height: 40),

                            ElevatedButton(
                                onPressed: setLight,
                                child: const Text('Light Mode'),
                            ),

                            const SizedBox(height: 10),

                            ElevatedButton(
                                onPressed: setDark,
                                child: const Text('Dark Mode'),
                            ),

                            const SizedBox(height: 10),

                            ElevatedButton(
                                onPressed: setSystem,
                                child: const Text('System Mode'),
                            ),
                        ],
                    ),
                ),
            );
        }
    }

**üß† What does themeMode: do (simple words)?**

This line is the key:

.. code-block:: dart 

    themeMode: _themeMode,

And _themeMode can be only **3 values:**

.. code-block:: dart 

    ThemeMode.light   // Always light
    ThemeMode.dark    // Always dark
    ThemeMode.system  // Follow device setting

So:

+-----------------------+-------------------------------------+
| Button                | What happens                        |
+=======================+=====================================+
| Light Mode            | App becomes light                   |
+-----------------------+-------------------------------------+
| Dark Mode             | App becomes dark                    |
+-----------------------+-------------------------------------+
| System Mode           | App follows device setting          |
+-----------------------+-------------------------------------+

This is EXACTLY what themeMode controls:
    **üëâ Which theme Flutter should use right now**

**‚úÖ Super short definition**

    **themeMode: decides which theme (Light, Dark, or System) is ACTIVE.**

‚Ä¢	theme = light design

‚Ä¢	darkTheme = dark design

‚Ä¢	themeMode = which one Flutter should use

=========================================================================================================================

‚úÖ15.themeAnimationDuration:
-------------------------------

This example lets you switch between **light and dark themes**, and the change happens **slowly,** so you can see the animation duration effect.

**‚úÖ Simple program to demonstrate themeAnimationDuration**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatefulWidget {
        const MyApp({super.key});

        @override
        State<MyApp> createState() => _MyAppState();
    }

    class _MyAppState extends State<MyApp> {
        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        ThemeMode _themeMode = ThemeMode.light;

        void toggleTheme() {
            setState(() {
            _themeMode = _themeMode == ThemeMode.light ? ThemeMode.dark : ThemeMode.light;
            });
        }

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // ‚úÖ Light Theme
                theme: ThemeData.light(),

                // ‚úÖ Dark Theme
                darkTheme: ThemeData.dark(),

                // üëá MAIN FOCUS
                themeMode: _themeMode,

                // üëá THIS is the parameter we're demonstrating
                themeAnimationDuration: const Duration(seconds: 2),

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                // Use builder to display UI
                builder: (context, child) {
                    return Scaffold(
                        appBar: AppBar(title: const Text('themeAnimationDuration Demo')),
                        body: Center(
                            child: ElevatedButton(
                                onPressed: toggleTheme,
                                child: const Text('Toggle Theme'),
                            ),
                        ),
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return const Navigator(
                pages: [
                    MaterialPage(
                        child: SizedBox(), // Actual UI is built in MaterialApp.router builder
                    ),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            return '/';
        }
    }

**üß† What does themeAnimationDuration do?**

This is the key line:

.. code-block:: dart 

    themeAnimationDuration: const Duration(seconds: 2),

It means:

    **When the theme changes, the transition should take 2 seconds instead of happening instantly.**

So when you press **‚ÄúToggle Theme‚Äù:**
	‚Ä¢	Without this ‚Üí instant change 

	‚Ä¢	With this ‚Üí smooth animated change in **2 seconds**

You can try other values too:

.. code-block:: dart

    Duration(milliseconds: 300)   // fast
    Duration(seconds: 1)         // normal
    Duration(seconds: 4)         // very slow

**‚úÖ Super simple definition**

**themeAnimationDuration: controls how long the theme-change animation lasts.**

Think of it like:

    ‚ÄúHow fast should my app fade from light ‚Üî dark?‚Äù

=========================================================================================================================

‚úÖ16.themeAnimationCurve:
----------------------------

This example lets you toggle between **light and dark themes**, and the change uses a **specific animation curve** (not just duration).
So now you can see the animation **style/shape** of the transition.

**‚úÖ Simple program to demonstrate themeAnimationCurve**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatefulWidget {
        const MyApp({super.key});

        @override
        State<MyApp> createState() => _MyAppState();
    }

    class _MyAppState extends State<MyApp> {
        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        ThemeMode _themeMode = ThemeMode.light;

        // Toggle theme on button press
        void toggleTheme() {
            setState(() {
                _themeMode = _themeMode == ThemeMode.light ? ThemeMode.dark : ThemeMode.light;
            });
        }

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // Light + Dark themes
                theme: ThemeData.light(),
                darkTheme: ThemeData.dark(),

                themeMode: _themeMode,

                // ‚úÖ Duration of animation
                themeAnimationDuration: const Duration(seconds: 2),

                // üëá MAIN FOCUS: CURVE OF THE ANIMATION
                themeAnimationCurve: Curves.easeInOut,

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                // UI is built here
                builder: (context, child) {
                    return Scaffold(
                        appBar: AppBar(
                            title: const Text('themeAnimationCurve Demo'),
                        ),
                        body: Center(
                            child: ElevatedButton(
                                onPressed: toggleTheme,
                                child: const Text('Toggle Theme'),
                            ),
                        ),
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return const Navigator(
                pages: [
                    MaterialPage(
                        child: SizedBox(), // UI is built by MaterialApp.builder
                    ),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation) async {
            return '/';
        }
    }

**üß† What does themeAnimationCurve do?**

This is the key line in the program:

.. code-block:: dart 

    themeAnimationCurve: Curves.easeInOut,

It controls **HOW the theme animation moves over time**, not how long it takes.

The duration is defined here:

,. code-block:: dart 

    themeAnimationDuration: const Duration(seconds: 2),

And the shape of that animation is defined here:

.. code-block:: dart 

    themeAnimationCurve: Curves.easeInOut,

**What Curves.easeInOut does:**
	‚Ä¢	Starts **slowly**

	‚Ä¢	Speeds up in the middle

	‚Ä¢	Ends **slowly**

So when you press **Toggle Theme:**
	‚Ä¢	The app does NOT change instantly

	‚Ä¢	It fades with a **smooth curve**

You can try others too:

.. code-block:: dart 

    Curves.linear      // straight, constant speed
    Curves.easeIn      // slow -> fast
    Curves.easeOut     // fast -> slow
    Curves.bounceIn    // bounce at start
    Curves.elasticOut  // rubber-band style

Example change:

.. code-block:: dart 

    themeAnimationCurve: Curves.bounceInOut,

Now your theme change will **bounce üòÑ**

**‚úÖ Super simple definition (remember this)**

    **themeAnimationCurve controls the STYLE of the theme-change animation.**

While:

    themeAnimationDuration = how long

    themeAnimationCurve = how it moves

=========================================================================================================================

‚úÖ17.themeAnimationStyle:
-----------------------------

**‚úÖ Simple program to describe themeAnimationStyle**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatefulWidget {
        const MyApp({super.key});

        @override
        State<MyApp> createState() => _MyAppState();
    }

    class _MyAppState extends State<MyApp> {
        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        ThemeMode _themeMode = ThemeMode.light;

        void _toggleTheme() {
            setState(() {
                _themeMode = _themeMode == ThemeMode.light ? ThemeMode.dark : ThemeMode.light;
            });
        }

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // Normal light & dark themes
                theme: ThemeData.light(),
                darkTheme: ThemeData.dark(),
                themeMode: _themeMode,

                // üëá MAIN FOCUS: themeAnimationStyle
                // This overrides duration + curve of the theme change.
                themeAnimationStyle: const AnimationStyle(
                    duration: Duration(seconds: 2),      // slow, so you can see it
                    curve: Curves.easeInOutCubic,        // smooth curve
                ),

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                // Simple UI: one page with a toggle button
                builder: (context, child) {
                    return Scaffold(
                        appBar: AppBar(
                            title: const Text('themeAnimationStyle Demo'),
                        ),
                        body: Center(
                            child: ElevatedButton(
                                onPressed: _toggleTheme,
                                child: Text(
                                    _themeMode == ThemeMode.light
                                        ? 'Switch to DARK theme'
                                        : 'Switch to LIGHT theme',
                                ),
                            ),
                        ),
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            // We don‚Äôt really use pages here; UI is built in MaterialApp.builder.
            return const Navigator(
                pages: [
                    MaterialPage(child: SizedBox()),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation,) async {
            // Use uri instead of deprecated location
            return routeInformation.uri.path;
        }
    }

**üß† What is themeAnimationStyle actually doing?**

This line is the key:

.. code-block:: dart 

    themeAnimationStyle: const AnimationStyle(
    duration: Duration(seconds: 2),
    curve: Curves.easeInOutCubic,
    ),

‚Ä¢	AnimationStyle.duration ‚Üí how long the **theme change animation** takes

‚Ä¢	AnimationStyle.curve ‚Üí how the animation **moves over time**

It overrides themeAnimationDuration and themeAnimationCurve if you set them.

So when you press the **Toggle** button:

	1.	_themeMode switches between ThemeMode.light and ThemeMode.dark

	2.	Flutter animates the change using:

	    ‚Ä¢	2-second duration

	    ‚Ä¢	easeInOutCubic curve

	3.	You see the whole screen smoothly fade/animate between light and dark.

If you want **no animation at all**, you can do:

.. code-block:: dart 

    themeAnimationStyle: AnimationStyle.noAnimation,

===========================================================================================================================

‚úÖ18.locale:
-----------------

Below is a **working example** using locale with **Pashto** (Locale('ps')).
It still uses MaterialApp.router and flutter_localizations.

Make sure flutter_localizations is in your pubspec.yaml (as before):

.. code-block:: yaml 

    dependencies:
    flutter:
        sdk: flutter
    flutter_localizations:
        sdk: flutter

**‚úÖ Simple program to describe locale: in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';
    import 'package:flutter_localizations/flutter_localizations.dart';

    void main() {
        runApp(const MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatefulWidget {
        const MyApp({super.key});

        @override
        State<MyApp> createState() => _MyAppState();
    }

    class _MyAppState extends State<MyApp> {
    final MyRouterDelegate _routerDelegate = MyRouterDelegate();
    final MyRouteInformationParser _routeInformationParser =
        MyRouteInformationParser();

    // üëá Start in English
    Locale _locale = const Locale('en');

    void _setEnglish() {
        setState(() {
        _locale = const Locale('en');
        });
    }

    void _setPashto() {
        setState(() {
        _locale = const Locale('ps'); // Pashto
        });
    }

    @override
    Widget build(BuildContext context) {
        return MaterialApp.router(
            debugShowCheckedModeBanner: false,

            // Current app locale
            locale: _locale,

            // We support English + Pashto
            supportedLocales: const [
                Locale('en'),
                Locale('ps'),
            ],

            // Provide Material / Widgets / Cupertino localizations
            localizationsDelegates: GlobalMaterialLocalizations.delegates,

            routerDelegate: _routerDelegate,
            routeInformationParser: _routeInformationParser,

                // Simple UI to show locale effect
                builder: (context, child) {
                    final lang = _locale.languageCode;

                    return Scaffold(
                        appBar: AppBar(
                            title: Text(
                            lang == 'en' ? 'Locale Demo (English / Pashto)'
                                            : 'ÿØ ⁄òÿ®€ê ÿ®€êŸÑ⁄´Ÿá (ÿßŸÜ⁄´ŸÑ€åÿ≥Ÿä / Ÿæ⁄öÿ™Ÿà)',
                            ),
                        ),
                        body: Center(
                            child: Column(
                                mainAxisAlignment: MainAxisAlignment.center,
                                children: [
                                    Text(
                                        lang == 'en'
                                            ? 'Hello (English)'
                                            : 'ÿ≥ŸÑÿßŸÖ (Ÿæ⁄öÿ™Ÿà)',
                                        style: const TextStyle(fontSize: 28),
                                        textAlign: TextAlign.center,
                                    ),
                                    const SizedBox(height: 30),
                                    ElevatedButton(
                                        onPressed: _setEnglish,
                                        child: const Text('Switch to English'),
                                    ),
                                    const SizedBox(height: 10),
                                    ElevatedButton(
                                        onPressed: _setPashto,
                                        child: const Text('Ÿæ⁄öÿ™Ÿà ÿ™Ÿá Ÿàÿß⁄ìŸàÿ¶'),
                                    ),
                                ],
                            ),
                        ),
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey =
            GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            // UI is built in MaterialApp.router.builder
            return const Navigator(
                pages: [
                    MaterialPage(child: SizedBox()),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(
            RouteInformation routeInformation,
        ) async {
            // Use uri (new API, not deprecated)
            return routeInformation.uri.path;
        }
    }

**What you‚Äôll see**

	‚Ä¢	Start: **English** ‚Äì ‚ÄúHello (English)‚Äù

	‚Ä¢	Tap **‚ÄúŸæ⁄öÿ™Ÿà ÿ™Ÿá Ÿàÿß⁄ìŸàÿ¶‚Äù** ‚Üí locale becomes ps

	‚Ä¢	AppBar title and main text show **Pashto.**

	‚Ä¢	Direction switches to **right-to-left** automatically for Pashto (if your Flutter version/localizations support it).

You can now reuse this pattern later for **English + Pashto + any other language** just by adding more Locale(...) entries and updating the text.

============================================================================================================================

‚úÖ19.supportedLocales:
-------------------------

**‚úÖ Simple program to describe supportedLocales in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';
    import 'package:flutter_localizations/flutter_localizations.dart';

    void main() {
        runApp(const MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatefulWidget {
        const MyApp({super.key});

        @override
        State<MyApp> createState() => _MyAppState();
    }

    class _MyAppState extends State<MyApp> {
        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser = MyRouteInformationParser();

        // CURRENT LOCALE
        Locale _locale = const Locale('en');

        void _setEnglish() {
            setState(() => _locale = const Locale('en'));
        }

        void _setPashto() {
            setState(() => _locale = const Locale('ps'));
        }

        void _setSpanish() {
            setState(() => _locale = const Locale('es'));
        }

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // üëá CURRENT SELECTED LANGUAGE
                locale: _locale,

                // ‚úÖ MAIN FOCUS: supportedLocales
                supportedLocales: const [
                    Locale('en'), // English
                    Locale('ps'), // Pashto
                    Locale('es'), // Spanish
                ],

                // Required for Material localized texts
                localizationsDelegates: GlobalMaterialLocalizations.delegates,

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                builder: (context, child) {
                    final lang = _locale.languageCode;

                    return Scaffold(
                        appBar: AppBar(
                            title: const Text('supportedLocales Demo'),
                        ),
                        body: Center(
                            child: Column(
                            mainAxisAlignment: MainAxisAlignment.center,
                                children: [
                                    Text(
                                        lang == 'en'
                                            ? 'Hello (English)'
                                            : lang == 'ps'
                                                ? 'ÿ≥ŸÑÿßŸÖ (Ÿæ⁄öÿ™Ÿà)'
                                                : 'Hola (Spanish)',
                                        style: const TextStyle(fontSize: 28),
                                    ),
                                    const SizedBox(height: 40),

                                    ElevatedButton(
                                        onPressed: _setEnglish,
                                        child: const Text('English'),
                                    ),
                                    const SizedBox(height: 8),

                                    ElevatedButton(
                                        onPressed: _setPashto,
                                        child: const Text('Ÿæ⁄öÿ™Ÿà'),
                                    ),
                                    const SizedBox(height: 8),

                                    ElevatedButton(
                                        onPressed: _setSpanish,
                                        child: const Text('Espa√±ol'),
                                    ),
                                ],
                            ),
                        ),
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        @override
        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return const Navigator(
                pages: [
                    MaterialPage(child: SizedBox()),
                ],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(
            RouteInformation routeInformation) async {
            return routeInformation.uri.path;
        }
    }

**üß† What does supportedLocales: actually do?**

This is the key part:

.. code-block:: dart 

    supportedLocales: const [
        Locale('en'),
        Locale('ps'),
        Locale('es'),
    ],

It tells Flutter:

‚ÄúMy app is able to support **only these languages.**‚Äù

If the user‚Äôs phone is set to:

	‚Ä¢	French ‚Üí ‚ùå Not in list ‚Üí Flutter won‚Äôt use it

	‚Ä¢	Pashto ‚Üí ‚úÖ In list ‚Üí Flutter will use Pashto

	‚Ä¢	Spanish ‚Üí ‚úÖ In list ‚Üí Flutter will use Spanish

Think of it like a whitelist of languages your app allows.

**‚úÖ Very short definition (remember this)**

    **supportedLocales: = the list of languages your app officially supports**

And:

    **locale: = the one currently in use**

+----------------------+------------------------------+
| Parameter            | Meaning                      |
+======================+==============================+
| supportedLocales     | All allowed languages        |
+----------------------+------------------------------+
| locale               | The selected language        |
+----------------------+------------------------------+

===========================================================================================================================

‚úÖ20.localizationsDelegates:
--------------------------------

This example proves one thing:

    **localizationsDelegates is what provides localized strings (like ‚ÄúBack‚Äù, dates, numbers, text direction, etc.) for the selected locale.**

Without this, you will get the red error you saw before:
**‚ÄúNo MaterialLocalizations found‚Äù**

This example uses:

    ‚úÖ English

    ‚úÖ Pashto (Ÿæ⁄öÿ™Ÿà)

    ‚úÖ Spanish

**‚úÖ Simple program to describe localizationsDelegates in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';
    import 'package:flutter_localizations/flutter_localizations.dart';

    void main() {
        runApp(const MyApp());
    }

    /* ================= APP ================= */

    class MyApp extends StatefulWidget {
        const MyApp({super.key});

        @override
        State<MyApp> createState() => _MyAppState();
    }

    class _MyAppState extends State<MyApp> {
        final MyRouterDelegate _routerDelegate = MyRouterDelegate();
        final MyRouteInformationParser _routeInformationParser =
            MyRouteInformationParser();

        Locale _locale = const Locale('en');

        void _setEnglish() => setState(() => _locale = const Locale('en'));
        void _setPashto()  => setState(() => _locale = const Locale('ps'));
        void _setSpanish() => setState(() => _locale = const Locale('es'));

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,

                // Current app language
                locale: _locale,

                // Languages app supports
                supportedLocales: const [
                    Locale('en'),
                    Locale('ps'),
                    Locale('es'),
                ],

                // ‚úÖ MAIN FOCUS: THIS PROVIDES TRANSLATIONS
                localizationsDelegates: const [
                    GlobalMaterialLocalizations.delegate, // Material widgets
                    GlobalWidgetsLocalizations.delegate,  // Text direction (LTR/RTL)
                    GlobalCupertinoLocalizations.delegate, // iOS style widgets
                ],

                routerDelegate: _routerDelegate,
                routeInformationParser: _routeInformationParser,

                builder: (context, child) {
                    final code = _locale.languageCode;

                    return Scaffold(
                        appBar: AppBar(
                            title: const Text('localizationsDelegates Demo'),
                        ),
                        body: Center(
                            child: Column(
                                mainAxisAlignment: MainAxisAlignment.center,
                                children: [
                                    Text(
                                        code == 'en'
                                            ? 'Hello (English)'
                                            : code == 'ps'
                                                ? 'ÿ≥ŸÑÿßŸÖ (Ÿæ⁄öÿ™Ÿà)'
                                                : 'Hola (Spanish)',
                                        style: const TextStyle(fontSize: 26),
                                    ),
                                    const SizedBox(height: 40),

                                    ElevatedButton(
                                        onPressed: _setEnglish,
                                        child: const Text('English'),
                                    ),
                                    const SizedBox(height: 8),

                                    ElevatedButton(
                                        onPressed: _setPashto,
                                        child: const Text('Ÿæ⁄öÿ™Ÿà'),
                                    ),
                                    const SizedBox(height: 8),

                                    ElevatedButton(
                                        onPressed: _setSpanish,
                                        child: const Text('Espa√±ol'),
                                    ),
                                ],
                            ),
                        ),
                    );
                },
            );
        }
    }

    /* ============ ROUTER DELEGATE ============ */

    class MyRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {
        @override
        final GlobalKey<NavigatorState> navigatorKey =
            GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return const Navigator(
                pages: [MaterialPage(child: SizedBox())],
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    /* ============ ROUTE PARSER ============ */

    class MyRouteInformationParser extends RouteInformationParser<Object> {
        @override
        Future<Object> parseRouteInformation(RouteInformation routeInformation,) async {
            return routeInformation.uri.path;
        }
    }

**üß† What does localizationsDelegates REALLY do?**

This is the **most important part:**

.. code-block:: dart 

    localizationsDelegates: const [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        GlobalCupertinoLocalizations.delegate,
    ],

This tells Flutter:

    ‚ÄúHere are the objects that provide translations and regional settings

    for Material, Widgets, and iOS (Cupertino) components.‚Äù

Without this:

    ‚ùå You get crash

    ‚ùå No RTL support for Pashto/Arabic

    ‚ùå No translated system labels (Back, Cancel, etc.)

With this:

    ‚úÖ Proper RTL for Pashto

    ‚úÖ Normal English / Spanish

    ‚úÖ No red error

**‚úÖ Super simple meaning (remember forever)**

    **localizationsDelegates = the translation engine of your app**

+-------------------------------+--------------------------------------+
| Part                          | What it gives you                    |
+===============================+======================================+
| GlobalMaterialLocalizations   | Buttons like Back, Close, etc        |
+-------------------------------+--------------------------------------+
| GlobalWidgetsLocalizations    | RTL / LTR text direction             |
+-------------------------------+--------------------------------------+
| GlobalCupertinoLocalizations  | iOS-style text                       |
+-------------------------------+--------------------------------------+

**‚ö†Ô∏è Important rule**

You almost ALWAYS use:

.. code-block:: dart 

    localizationsDelegates: GlobalMaterialLocalizations.delegates,

or the full version I gave you.

Without it ‚Üí your app WILL crash when you change locale.

=========================================================================================================================

‚úÖ21.localeResolutionCallback:
----------------------------------

Here is a **very simple Flutter example** that shows how to use the **localeResolutionCallback** parameter in MaterialApp.router.

This callback decides **which language (locale) your app should actually use,** based on the device locale and the supported locales in your app.

**‚úÖ What this example does**

	‚Ä¢	The phone language might be: **Spanish, Pashto, Arabic, etc.**

	‚Ä¢	We tell Flutter:

	‚Ä¢	If the device language is Spanish (es), use Spanish

	‚Ä¢	Otherwise, use **English (en)**

	‚Ä¢	It prints the decision in the console so you can see what happens

**‚úÖ Simple program: localeResolutionCallback in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    // A very small RouterConfig just for demo
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // List of supported languages in this app
                supportedLocales: const [
                    Locale('en', 'US'),
                    Locale('es', 'ES'),
                ],

                // üëá THIS IS WHAT YOU ASKED ABOUT
                localeResolutionCallback: (Locale? deviceLocale, Iterable<Locale> supportedLocales) {
                    print('Device locale is: $deviceLocale');

                    // If device language is Spanish, use Spanish
                    if (deviceLocale != null && deviceLocale.languageCode == 'es') {
                        print('Using Spanish');
                        return const Locale('es', 'ES');
                    }

                    // Otherwise, use English as default
                    print('Using English');
                    return const Locale('en', 'US');
                },
            );
        }
    }

    // ---------------- SIMPLE ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(
                        child: Scaffold(
                            body: Center(
                                child: Text(
                                    "Hello from MaterialApp.router()",
                                    style: TextStyle(fontSize: 22),
                                ),
                            ),
                        ),
                    ),
                ],
                onPopPage: (route, result) => route.didPop(result),
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

**‚úÖ In simple words**

localeResolutionCallback means:

    ‚ÄúFlutter, when the app starts, check the phone‚Äôs language. Then I will decide which language my app should use.‚Äù

Example:

+-----------------------+----------------------------------+
| Phone Language        | App Language Used                |
+=======================+==================================+
| Spanish               | Spanish ‚úÖ                       |
+-----------------------+----------------------------------+
| Pashto                | English (fallback) ‚úÖ            |
+-----------------------+----------------------------------+
| Arabic                | English (fallback) ‚úÖ            |
+-----------------------+----------------------------------+

===========================================================================================================================

‚úÖ22.localeListResolutionCallback:
--------------------------------------

This callback is used when the device sends **a list of preferred languages** (not just one). You decide which one your app will use.

**‚úÖ What this example does**

	‚Ä¢	Your phone may send a list like: [es_ES, ps_AF, en_US]

	‚Ä¢	The app:

        ‚Ä¢	‚úîÔ∏è Uses **Pashto** if found

        ‚Ä¢	‚úîÔ∏è Else uses **Spanish** if found

        ‚Ä¢	‚úîÔ∏è Else uses **English by default**

	‚Ä¢	It prints the decision in the console

**‚úÖ Simple program: localeListResolutionCallback in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router for demo
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // Languages supported by this app
                supportedLocales: const [
                    Locale('en', 'US'),
                    Locale('es', 'ES'),
                    Locale('ps', 'AF'), // Pashto
                ],

                // üëá THIS IS WHAT YOU ASKED ABOUT
                localeListResolutionCallback:
                    (List<Locale>? deviceLocales, Iterable<Locale> supportedLocales) {
                    print("Device locales list: $deviceLocales");

                    if (deviceLocales != null) {
                        for (Locale locale in deviceLocales) {
                            // If Pashto is found, use it
                            if (locale.languageCode == 'ps') {
                                print("Using Pashto");
                                return const Locale('ps', 'AF');
                            }

                            // If Spanish is found, use it
                            if (locale.languageCode == 'es') {
                                print("Using Spanish");
                                return const Locale('es', 'ES');
                            }
                        }
                    }

                    // Default to English
                    print("Using English");
                    return const Locale('en', 'US');
                },
            );
        }
    }

    // ---------------- SIMPLE ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: const [
                    MaterialPage(
                        child: Scaffold(
                            body: Center(
                                child: Text(
                                    "MaterialApp.router\nlocaleListResolutionCallback",
                                    textAlign: TextAlign.center,
                                    style: TextStyle(fontSize: 20),
                                ),
                            ),
                        ),
                    ),
                ],
                onPopPage: (route, result) => route.didPop(result),
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

**‚úÖ Very simple explanation**

+-------------------------------+--------------------------------------+
| Callback                      | What it receives                     |
+===============================+======================================+
| When to use                   | localeResolutionCallback             |
+-------------------------------+--------------------------------------+
| one Locale                    | When device gives one language       |
+-------------------------------+--------------------------------------+
| localeListResolutionCallback  | list of Locales                      |
+-------------------------------+--------------------------------------+

When device gives multiple languages

localeListResolutionCallback =

    ‚ÄúFlutter, here is a list of languages my user prefers. You choose the best one.‚Äù

Example device language list:

.. code-block:: dart 

    [ps_AF, en_US, es_ES]

Your app chooses: **‚úÖ Pashto**

==========================================================================================================================

‚úÖ23.debugShowCheckedModeBanner:
------------------------------------

**üîπ What is debugShowCheckedModeBanner?**

When you run a Flutter app in **debug mode**, a red label appears in the top-right corner that says:

.. code-block:: bash 

    DEBUG

That red label is called the **debug banner.**

The **debugShowCheckedModeBanner** parameter controls **whether that banner is shown or hidden.**

**‚úÖ Example**

.. code-block:: dart 

    MaterialApp.router(
        debugShowCheckedModeBanner: false,
        home: Scaffold(
            body: Center(child: Text('Hello')),
        ),
    );
    
If you write:

.. code-block:: dart 

    debugShowCheckedModeBanner: false,

‚úÖ The red **DEBUG** banner will **disappear.**

If you write:

.. code-block:: dart 

    debugShowCheckedModeBanner: true,

‚úÖ The red **DEBUG** banner will **appear.**

**üß† In very simple words**

debugShowCheckedModeBanner means:

    ‚ÄúFlutter, should I show the red DEBUG label or not?‚Äù

**Why do developers turn it OFF?**

Because before publishing an app, they want the screen to look clean and professional:

	‚Ä¢	‚ùå No big DEBUG label

	‚Ä¢	‚úÖ Clean UI for users

So usually developers write:

.. code-block:: dart 

    debugShowCheckedModeBanner: false,

**Important**

This banner:
	‚Ä¢	Only appears in **debug mode**

	‚Ä¢	Does **NOT** appear in release mode

	‚Ä¢	Does **NOT** affect performance

==============================================================================================================================

‚úÖ24.debugShowMaterialGrid:
-------------------------------

Here is a **very simple Flutter example** that demonstrates the

**debugShowMaterialGrid** parameter in **MaterialApp.router.**

This parameter is used **only in debug mode** to show a layout grid on the screen, which helps you align widgets correctly (like a designer‚Äôs grid).

**‚úÖ What this example shows**

	‚Ä¢	**A grid overlay** appears on the screen

	‚Ä¢	Helps you see spacing, margins & alignment

	‚Ä¢	Only works in **debug mode** (when using flutter run)

**‚úÖ Simple Program: debugShowMaterialGrid in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router for the demo
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                debugShowCheckedModeBanner: false,
                routerConfig: _router,

                // üëá THIS IS WHAT YOU ASKED ABOUT
                debugShowMaterialGrid: true,
            );
        }
    }

    // ---------------- SIMPLE ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: [
                    MaterialPage(
                        child: Scaffold(
                            appBar: AppBar(title: Text("Material Grid Example")),
                            body: Center(
                                child: Text(
                                    "debugShowMaterialGrid = true",
                                    style: TextStyle(fontSize: 20),
                                ),
                            ),
                        ),
                    ),
                ],
                onPopPage: (route, result) => route.didPop(result),
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

**‚úÖ What you will see**

When you run the app in **debug mode**, a **grid like this** will appear:

.. code-block:: bash 

    ‚ñ¢ ‚ñ¢ ‚ñ¢ ‚ñ¢ ‚ñ¢
    ‚ñ¢ ‚ñ¢ ‚ñ¢ ‚ñ¢ ‚ñ¢
    ‚ñ¢ ‚ñ¢ ‚ñ¢ ‚ñ¢ ‚ñ¢

It helps in:

‚úÖ Checking widget alignment

‚úÖ Checking padding / margins

‚úÖ UI design fixing

Turn it OFF by changing:

.. code-block:: dart 

    debugShowMaterialGrid: false,

**‚úÖ In simple words**

+---------------------------+-------------------------------+
| Value                     | Result                        |
+===========================+===============================+
| true                      | Shows layout grid on screen ‚úÖ|
+---------------------------+-------------------------------+
| false                     | No grid (normal UI) ‚úÖ        |
+---------------------------+-------------------------------+

debugShowMaterialGrid =

    ‚ÄúFlutter, show me your layout lines so I can design better.‚Äù

===========================================================================================================================

‚úÖ25.showPerformanceOverlay:
--------------------------------

Here‚Äôs a **very simple Flutter app** that demonstrates

**showPerformanceOverlay **in **MaterialApp.router.**

This overlay shows **performance graphs** (GPU & UI usage) on the screen, so you can see how smooth (or slow) your app is while running.

**‚úÖ What this example does**

	‚Ä¢	Shows **two small graphs at the top:**

	‚Ä¢	**UI Thread (top)**

	‚Ä¢	**GPU Thread (bottom)**

	‚Ä¢	Helps you check:

	‚Ä¢	Frame drops

	‚Ä¢	Jank / lag

	‚Ä¢	Animation performance

	‚Ä¢	Works in **debug mode**

**‚úÖ Simple program: showPerformanceOverlay in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router for the demo
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // Shows the performance overlay
                showPerformanceOverlay: true,
            );
        }
    }

    // ---------------- SIMPLE ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: [
                    MaterialPage(
                        child: Scaffold(
                            appBar: AppBar(title: Text("Performance Overlay")),
                            body: Center(
                                child: Column(
                                    mainAxisAlignment: MainAxisAlignment.center,
                                    children: [
                                        Text(
                                            "showPerformanceOverlay = true",
                                            style: TextStyle(fontSize: 20),
                                        ),
                                        SizedBox(height: 20),
                                        CircularProgressIndicator(),
                                    ],
                                ),
                            ),
                        ),
                    ),
                ],

                // ‚úÖ NEW and CORRECT method (replaces onPopPage)
                onDidRemovePage: (Page<Object?> page) {
                    debugPrint('Page removed: ${page.key}');
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

**‚úÖ What you will see on top**

Two small bars like this:

.. code-block:: bash 

    UI:  ‚ñá‚ñÖ‚ñá‚ñÇ‚ñá‚ñÖ
    GPU: ‚ñÖ‚ñá‚ñÇ‚ñá‚ñÖ‚ñÇ

+-------------------+--------------------------+
| Bar               | Meaning                  |
+===================+==========================+
| Top bar           | UI rendering time        |
+-------------------+--------------------------+
| Bottom bar        | GPU rendering time       |
+-------------------+--------------------------+

If bars go **above the line** ‚Üí ‚ö†Ô∏è your app is becoming slow.

**‚úÖ In very simple words**

showPerformanceOverlay =

    ‚ÄúFlutter, show me how fast or slow my app is running.‚Äù

+-----------------+---------------------------------+
| Value           | Result                          |
+=================+=================================+
| true            | Shows performance graph ‚úÖ      |
+-----------------+---------------------------------+
| false           | Normal mode ‚úÖ                  |
+-----------------+---------------------------------+

========================================================================================================================

‚úÖ26.showSemanticsDebugger:
--------------------------------

Here is a **very simple & updated Flutter program** that demonstrates

the **showSemanticsDebugger** parameter in **MaterialApp.router** ‚Äî using the **new API (onDidRemovePage)** instead of the deprecated onPopPage.

showSemanticsDebugger is mainly used for **accessibility debugging** (screen readers, talkback, etc.).

**‚úÖ Simple program: showSemanticsDebugger in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router for demo
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // üëá THIS IS WHAT YOU ASKED ABOUT
                showSemanticsDebugger: true,
            );
        }
    }

    // ---------------- SIMPLE ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,

                pages: [
                    MaterialPage(
                        child: Scaffold(
                            appBar: AppBar(title: Text("Semantics Debugger")),
                            body: Center(
                                child: Column(
                                    mainAxisAlignment: MainAxisAlignment.center,
                                    children: [
                                        Text(
                                            "showSemanticsDebugger = true",
                                            style: TextStyle(fontSize: 20),
                                        ),
                                        SizedBox(height: 20),
                                        ElevatedButton(
                                            onPressed: null,
                                            child: Text("Example Button"),
                                        ),
                                    ],
                                ),
                            ),
                        ),
                    ),
                ],

                // ‚úÖ New API instead of onPopPage
                onDidRemovePage: (Page<Object?> page) {
                    debugPrint('Page removed: ${page.key}');
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

**‚úÖ What you will see on the screen**

When this runs in **debug mode**, you‚Äôll see:

	‚Ä¢	Yellow / green outlines on widgets

	‚Ä¢	Text showing things like:

	‚Ä¢	Button

	‚Ä¢	Label

	‚Ä¢	Text

	‚Ä¢	Boxes around UI elements

This is Flutter showing **accessibility information.**

This is useful for:

    ‚úÖ Screen readers

    ‚úÖ Blind/low-vision users

    ‚úÖ Accessibility testing

    ‚úÖ Improving UX

**‚úÖ In very simple words**

showSemanticsDebugger = true means:

    ‚ÄúFlutter, show me how screen readers see my app.‚Äù

+------------------------+--------------------------------------------+
| Value                  | Result                                     |
+========================+============================================+
| true                   | Shows accessibility info on UI ‚úÖ          |
+------------------------+--------------------------------------------+
| false                  | Normal screen ‚úÖ                           |
+------------------------+--------------------------------------------+

========================================================================================================================

‚úÖ27.shortcuts:
-------------------

Here is a **very simple Flutter example** that demonstrates the
**shortcuts** parameter in **MaterialApp.router.**

The shortcuts parameter lets you define **keyboard shortcut keys** (for hardware keyboard: laptop, desktop, tablet with keyboard).

In this example:

	‚Ä¢	Press **Ctrl + B** (or Cmd + B on Mac)

	‚Ä¢	The text on the screen changes

**‚úÖ Simple program: shortcuts in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';
    import 'package:flutter/services.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router for demo
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // üëá THIS IS WHAT YOU ASKED ABOUT
                shortcuts: <LogicalKeySet, Intent>{
                    // When user presses Ctrl + B
                    LogicalKeySet(LogicalKeyboardKey.control, LogicalKeyboardKey.keyB):
                        const ChangeTextIntent(),
                },
            );
        }
    }

    // ----------- INTENT (WHAT TO DO) ----------------

    class ChangeTextIntent extends Intent {
        const ChangeTextIntent();
    }

    // ----------- SIMPLE ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();
        bool _changed = false;

        @override
        Widget build(BuildContext context) {
            return Actions(
            actions: <Type, Action<Intent>>{
                ChangeTextIntent: CallbackAction<ChangeTextIntent>(
                    onInvoke: (intent) {
                        _changed = !_changed;
                        notifyListeners();
                        return null;
                    },
                ),
            },
            child: Navigator(
                    key: navigatorKey,
                    pages: [
                        MaterialPage(
                            child: Scaffold(
                                appBar: AppBar(title: const Text("Shortcuts Example")),
                                body: Center(
                                    child: Text(
                                        _changed
                                            ? "You pressed Ctrl + B ‚úÖ"
                                            : "Press Ctrl + B to change this text",
                                        style: const TextStyle(fontSize: 20),
                                    ),
                                ),
                            ),
                        ),
                    ],

                    // ‚úÖ New API instead of onPopPage
                    onDidRemovePage: (Page<Object?> page) {
                        debugPrint('Page removed: ${page.key}');
                    },
                ),
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

**‚úÖ How to test it**

Run your app and press:

	‚Ä¢	**Windows / Linux:** Ctrl + B
	‚Ä¢	**Mac: ‚åò** (Command) + B

You will see the text change on the screen.

**‚úÖ In very simple words**

shortcuts means:

‚ÄúFlutter, when the user presses these keys, do this action.‚Äù

+--------------------+------------------------------+
| Part               | Meaning                      |
+====================+==============================+
| LogicalKeySet(...) | Which keys                   |
+--------------------+------------------------------+
| Intent             | What it means                |
+--------------------+------------------------------+
| Action             | What to do                   |
+--------------------+------------------------------+

=========================================================================================================================

‚úÖ28.actions:
-----------------

Here is a **very simple Flutter program** that demonstrates the
**actions parameter in MaterialApp.router.**

The actions parameter tells Flutter **what to do when an Intent happens** (for example from a keyboard shortcut, button, or gesture).

In this example:

    ‚úÖ Press **Ctrl + C **(or **Cmd + C** on Mac)

    ‚úÖ The text on the screen changes

**‚úÖ Simple program: actions in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';
    import 'package:flutter/services.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
    const MyApp({super.key});

    @override
    Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // üëá SHORTCUT (Ctrl + C)
                shortcuts: <LogicalKeySet, Intent>{
                    LogicalKeySet(LogicalKeyboardKey.control, LogicalKeyboardKey.keyC):
                    ChangeColorIntent(),
                },

                // üëá THIS IS WHAT YOU ASKED ABOUT: actions
                actions: <Type, Action<Intent>>{
                    ChangeColorIntent: ChangeColorAction(),
                },
            );
        }
    }

    // ------------ INTENT ------------

    class ChangeColorIntent extends Intent {
        const ChangeColorIntent();
    }

    // ------------ ACTION ------------

    class ChangeColorAction extends Action<ChangeColorIntent> {
        @override
        Object? invoke(ChangeColorIntent intent) {
            _SimpleRouterDelegate.changeColor();
            return null;
        }
    }

    // ------------ ROUTER ------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        static bool _isRed = false;

        static void changeColor() {
            _isRed = !_isRed;
            _instance?.notifyListeners();
        }

        static _SimpleRouterDelegate? _instance;

        _SimpleRouterDelegate() {
            _instance = this;
        }

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                pages: [
                    MaterialPage(
                        child: Scaffold(
                            appBar: AppBar(title: const Text("Actions Example")),
                            body: Center(
                                child: Text(
                                    "Press Ctrl + C",
                                    style: TextStyle(
                                        fontSize: 22,
                                        color: _isRed ? Colors.red : Colors.black,
                                    ),
                                ),
                            ),
                        ),
                    ),
                ],

                // ‚úÖ New API instead of onPopPage
                onDidRemovePage: (Page<Object?> page) {
                    debugPrint('Page removed: ${page.key}');
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

**‚úÖ What is happening (very simple)**

+--------------------+---------------------------------+
| Part               | Meaning                         |
+====================+=================================+
| Intent             | What the user wants             |
+--------------------+---------------------------------+
| Action             | What the app does               |
+--------------------+---------------------------------+
| actions:           | Connects intent ‚ûú action        |
+--------------------+---------------------------------+

actions = ‚ÄúWhen this thing happens, do this job‚Äù

**‚úÖ Press the keys**

	‚Ä¢	**Windows / Linux:** Ctrl + C

	‚Ä¢	**Mac:** ‚åò + C

Text color will change:
	‚Ä¢	Black ‚ûú Red ‚ûú Black ‚ûú Red ‚Ä¶

========================================================================================================================

‚úÖ29.restorationScopeId:
----------------------------

Here is a very **simple Flutter program** that demonstrates the
**restorationScopeId **parameter in **MaterialApp.router.**

This feature lets Flutter **restore the app‚Äôs state automatically** (like text, scroll position, counters) after the app is closed and reopened or killed by the OS.

In this example:

    ‚úÖ A counter value is **saved automatically**

    ‚úÖ Close the app

    ‚úÖ Open it again ‚Üí the counter is **restored**

**‚úÖ Simple program: restorationScopeId in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // ‚úÖ ONLY ONE restorationScopeId
                restorationScopeId: 'root',
            );
        }
    }

    // ---------------- ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,
                restorationScopeId: 'navigator', // child scope

                pages: const [
                    MaterialPage(
                        restorationId: 'home_page',
                        child: CounterPage(),
                    ),
                ],

                // New API instead of onPopPage
                onDidRemovePage: (Page<Object?> page) {
                    debugPrint('Page removed: ${page.key}');
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    // ---------------- COUNTER PAGE ----------------

    class CounterPage extends StatefulWidget {
        const CounterPage({super.key});

        @override
        State<CounterPage> createState() => _CounterPageState();
    }

    class _CounterPageState extends State<CounterPage> with RestorationMixin {

        final RestorableInt _counter = RestorableInt(0);

        @override
        String? get restorationId => 'counter_page';

        @override
        void restoreState(RestorationBucket? oldBucket, bool initialRestore) {
            registerForRestoration(_counter, 'counter_value');
        }

        void _increment() {
            setState(() {
            _counter.value++;
            });
        }

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(title: const Text('Restoration Example')),
                body: Center(
                    child: Text(
                        'Counter: ${_counter.value}',
                        style: const TextStyle(fontSize: 30),
                    ),
                ),
                floatingActionButton: FloatingActionButton(
                    onPressed: _increment,
                    child: const Icon(Icons.add),
                ),
            );
        }
    }

**‚úÖ Why this now works**

+-----------------------------+--------------------------------------+
| Location                    | What it does                         |
+=============================+======================================+
| MaterialApp.router          | Defines root restoration ID          |
+-----------------------------+--------------------------------------+
| Navigator                   | Defines child restoration area       |
+-----------------------------+--------------------------------------+
| MaterialPage                | Has page restoration ID              |
+-----------------------------+--------------------------------------+
| RestorableInt               | Saves counter value                  |
+-----------------------------+--------------------------------------+

Now your app can:

    ‚úÖ Close

    ‚úÖ Reopen

    ‚úÖ Restore previous counter

üß† In simple words (again)

restorationScopeId is like giving a memory name to your app.

Flutter: ‚ÄúRemember everything under this name.‚Äù

Only **one name per widget** is allowed.

========================================================================================================================

‚úÖ30.scrollBehavior:
------------------------

Here is a **very simple Flutter example** that demonstrates the
**scrollBehavior** parameter in **MaterialApp.router.**

scrollBehavior changes **how scrolling works** (with mouse, touch, stylus, trackpad, etc.).
In this example, we customize it so **mouse dragging also scrolls the page** on desktop.

**‚úÖ Simple program: scrollBehavior in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';
    import 'package:flutter/gestures.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple router
        final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // üëá THIS IS WHAT YOU ASKED ABOUT
                scrollBehavior: const MyCustomScrollBehavior(),
            );
        }
    }

    // -------- CUSTOM SCROLL BEHAVIOR --------

    class MyCustomScrollBehavior extends MaterialScrollBehavior {
        const MyCustomScrollBehavior();

        @override
        Set<PointerDeviceKind> get dragDevices => const {
                PointerDeviceKind.touch,   // Mobile touch
                PointerDeviceKind.mouse,   // Desktop mouse drag
                PointerDeviceKind.trackpad,
                PointerDeviceKind.stylus,
            };
        }

        // -------- SIMPLE ROUTER --------

        class _SimpleRouterDelegate extends RouterDelegate<Object>
            with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,

                pages: const [
                    MaterialPage(
                    child: ScrollPage(),
                    ),
                ],

                onDidRemovePage: (Page<Object?> page) {
                    debugPrint('Page removed: ${page.key}');
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    // -------- PAGE WITH SCROLL --------

    class ScrollPage extends StatelessWidget {
        const ScrollPage({super.key});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(title: const Text("Scroll Behavior Example")),
                body: ListView.builder(
                    itemCount: 50,
                    itemBuilder: (context, index) {
                        return ListTile(
                            title: Text("Item ${index + 1}"),
                        );
                    },
                ),
            );
        }
    }

**‚úÖ What you will notice**

Run the app and try to scroll:

+---------------------+-----------------------------------------------+
| Behavior            | Works?                                        |
+=====================+===============================================+
| Touch screen        | ‚úÖ                                            |
+---------------------+-----------------------------------------------+
| Mouse wheel         | ‚úÖ                                            |
+---------------------+-----------------------------------------------+
| Mouse drag          | ‚úÖ (because of custom scrollBehavior)         |
+---------------------+-----------------------------------------------+
| Trackpad            | ‚úÖ                                            |
+---------------------+-----------------------------------------------+

Without scrollBehavior, mouse drag scrolling usually **does NOT work.**

**‚úÖ In very simple words**

scrollBehavior =

    ‚ÄúFlutter, I want to customize how scrolling works in my app.‚Äù

+-----------------------------+---------------------------------------+
| Example change              | Result                                |
+=============================+=======================================+
| Add PointerDeviceKind.mouse | Drag with mouse ‚úÖ                    |
+-----------------------------+---------------------------------------+
| Remove it                   | Only wheel works ‚ùå                   |
+-----------------------------+---------------------------------------+
| Add stylus                  | Stylus dragging ‚úÖ                    |
+-----------------------------+---------------------------------------+

==========================================================================================================================

‚úÖ31.onNavigationNotification:
-----------------------------------

Here is a very **simple and clean Flutter example** that demonstrates the
**onNavigationNotification** parameter in **MaterialApp.router.**

This parameter lets your app **listen to navigation events** (like page change, back button press, push/pop) and react to them.

In this example:

    ‚úÖ When navigation happens, a message is printed in the console

    ‚úÖ And a small text on screen changes

**‚úÖ Simple program: onNavigationNotification in MaterialApp.router**

.. code-block:: dart 

    import 'package:flutter/material.dart';

    void main() {
        runApp(const MyApp());
    }

    // Simple Router
    final RouterConfig<Object> _router = RouterConfig(
        routerDelegate: _SimpleRouterDelegate(),
    );

    class MyApp extends StatelessWidget {
        const MyApp({super.key});

        @override
        Widget build(BuildContext context) {
            return MaterialApp.router(
                routerConfig: _router,

                // üëá THIS IS WHAT YOU ASKED ABOUT
                onNavigationNotification: (NavigationNotification notification) {
                    debugPrint('Navigation happened: ${notification.runtimeType}');
                    return true; // means "I handled it"
                },
            );
        }
    }

    // ---------------- ROUTER ----------------

    class _SimpleRouterDelegate extends RouterDelegate<Object> with ChangeNotifier, PopNavigatorRouterDelegateMixin<Object> {

        final GlobalKey<NavigatorState> navigatorKey = GlobalKey<NavigatorState>();

        bool _secondPage = false;

        void goToNext() {
            _secondPage = true;
            notifyListeners();
        }

        void goBack() {
            _secondPage = false;
            notifyListeners();
        }

        @override
        Widget build(BuildContext context) {
            return Navigator(
                key: navigatorKey,

                pages: [
                    MaterialPage(
                        child: HomePage(onNext: goToNext),
                    ),
                    if (_secondPage)
                    MaterialPage(
                        child: SecondPage(onBack: goBack),
                    ),
                ],

                // ‚úÖ New API
                onDidRemovePage: (Page<Object?> page) {
                    debugPrint("Page removed: ${page.key}");
                },
            );
        }

        @override
        Future<void> setNewRoutePath(Object configuration) async {}
    }

    // ---------------- HOME PAGE ----------------

    class HomePage extends StatelessWidget {
        final VoidCallback onNext;

        const HomePage({super.key, required this.onNext});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(title: const Text("Home Page")),
                body: Center(
                    child: ElevatedButton(
                    onPressed: onNext,
                    child: const Text("Go to Next Page"),
                    ),
                ),
            );
        }
    }

    // ---------------- SECOND PAGE ----------------

    class SecondPage extends StatelessWidget {
        final VoidCallback onBack;

        const SecondPage({super.key, required this.onBack});

        @override
        Widget build(BuildContext context) {
            return Scaffold(
                appBar: AppBar(title: const Text("Second Page")),
                body: Center(
                    child: ElevatedButton(
                    onPressed: onBack,
                    child: const Text("Go Back"),
                    ),
                ),
            );
        }
    }

**‚úÖ What you will see in the console**

When you click the button to navigate:

.. code-block:: dart

    Navigation happened: NavigationNotification

And when a page is removed:

.. code-block:: dart 

    Page removed: null

**‚úÖ In very simple words**

onNavigationNotification means:

    üí¨ ‚ÄúFlutter, tell me whenever navigation happens in my app.‚Äù

You can use it for:

    ‚úÖ Debugging navigation

    ‚úÖ Analytics (track page change)

    ‚úÖ Custom logging

    ‚úÖ Security checks

**‚úÖ Quick comparison**

+---------------------------+--------------------------------------+
| Parameter                 | Purpose                              |
+===========================+======================================+
| onNavigationNotification  | Listen to navigation events          |
+---------------------------+--------------------------------------+
| onDidRemovePage           | Know when a page is removed          |
+---------------------------+--------------------------------------+
| routerConfig              | Controls which page is shown         |
+---------------------------+--------------------------------------+

