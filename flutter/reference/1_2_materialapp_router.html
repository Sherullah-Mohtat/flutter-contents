<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html"><link rel="search" title="Search" href="../search.html"><link rel="next" title="GoRouter" href="1_3_gorouter.html"><link rel="prev" title="MaterialApp" href="1_materialapp.html">
        <link rel="prefetch" href="../_static/logo.jpeg" as="image">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>MaterialApp.router - Flutter</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=a49ea3f3" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Flutter</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/logo.jpeg" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Flutter</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">üöÄ Get Started</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../tutorials/index.html">Tutorials</a><input aria-label="Toggle navigation of Tutorials" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/quickstart.html">Quickstart</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/first_project.html">First Project</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">Guides</a><input aria-label="Toggle navigation of Guides" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../guides/2_installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/configuration.html">Configuration</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">‚öôÔ∏è Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Reference</a><input aria-label="Toggle navigation of Reference" checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="0_widget.html">Widget</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_materialapp.html">MaterialApp</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">MaterialApp.router</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_3_gorouter.html">GoRouter</a></li>
<li class="toctree-l2"><a class="reference internal" href="1_4_goroute.html">GoRoute</a></li>
<li class="toctree-l2"><a class="reference internal" href="2_scaffold.html">Scaffold</a></li>
<li class="toctree-l2"><a class="reference internal" href="3_appbar.html">AppBar</a></li>
<li class="toctree-l2"><a class="reference internal" href="4_center.html">Center</a></li>
<li class="toctree-l2"><a class="reference internal" href="4_1_routerconfig.html">RouterConfig</a></li>
<li class="toctree-l2"><a class="reference internal" href="5_container.html">Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="6_column.html">Column</a></li>
<li class="toctree-l2"><a class="reference internal" href="7_row.html">Row</a></li>
<li class="toctree-l2"><a class="reference internal" href="8_page.html">Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="9_materialpage.html">MaterialPage</a></li>
<li class="toctree-l2"><a class="reference internal" href="10_customtransitionpage.html">CustomTransitionPage</a></li>
<li class="toctree-l2"><a class="reference internal" href="callbacks_handlers.html">Callback and Handlers</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">üß† Explanations</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../explanation/index.html">Explanations</a><input aria-label="Toggle navigation of Explanations" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../explanation/architecture.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../explanation/design-decisions.html">Design Decisions</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">üåç Community</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../community/index.html">Community</a><input aria-label="Toggle navigation of Community" class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../community/contributing.html">Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../community/faq.html">FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="materialapp-router">
<h1>MaterialApp.router<a class="headerlink" href="#materialapp-router" title="Link to this heading">¬∂</a></h1>
<section id="what-is-materialapp-router">
<h2>üìå What is MaterialApp.router()?<a class="headerlink" href="#what-is-materialapp-router" title="Link to this heading">¬∂</a></h2>
<p>MaterialApp.router() is a <strong>special version of MaterialApp</strong> that uses Flutter‚Äôs <strong>new navigation system (Navigator 2.0 / Router API)</strong> instead of the old one.</p>
<p>In simple words:</p>
<blockquote>
<div><p><strong>MaterialApp.router connects your app to a Router that decides which screen to show based on the URL and app state.</strong></p>
</div></blockquote>
<dl class="simple">
<dt>It is mainly used for:</dt><dd><ul class="simple">
<li><p>Web apps</p></li>
<li><p>Deep linking (/product/10)</p></li>
<li><p>Complex navigation</p></li>
<li><p>Enterprise-level apps</p></li>
<li><p>Professional routing (GoRouter, Beamer, etc.)</p></li>
</ul>
</dd>
</dl>
<p><strong>üß† Big idea in ONE LINE</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Old way</p></th>
<th class="head"><p>New way</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MaterialApp()</p></td>
<td><p>MaterialApp.router()</p></td>
</tr>
<tr class="row-odd"><td><p>‚ÄúPush &amp; pop pages manually‚Äù</p></td>
<td><p>‚ÄúRouter decides the page for you‚Äù</p></td>
</tr>
<tr class="row-even"><td><p>Navigator 1.0</p></td>
<td><p>Navigator 2.0</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>‚úÖ Basic Structure of MaterialApp.router()</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">myRouter</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Instead of this (old way):</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">MaterialApp</span><span class="p">(</span>
<span class="w">    </span><span class="nl">home:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">    </span><span class="nl">routes:</span><span class="w"> </span><span class="p">{...},</span>
<span class="p">)</span>
</pre></div>
</div>
<p>You now write:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">myGoRouter</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The <strong>router</strong> controls everything.</p>
</section>
<hr class="docutils" />
<section id="all-named-parameters">
<h2>All named parameters<a class="headerlink" href="#all-named-parameters" title="Link to this heading">¬∂</a></h2>
<p><strong>MaterialApp.router(</strong></p>
<blockquote>
<div><ol class="arabic simple">
<li><p><strong>routerConfig:</strong></p></li>
<li><p><strong>routerDelegate:</strong></p></li>
<li><p><strong>routeInformationParser:</strong></p></li>
<li><p><strong>routeInformationProvider:</strong></p></li>
<li><p><strong>backButtonDispatcher:</strong></p></li>
<li><p><strong>builder:</strong></p></li>
<li><p><strong>title:</strong></p></li>
<li><p><strong>onGenerateTitle:</strong></p></li>
<li><p><strong>color:</strong></p></li>
<li><p><strong>theme:</strong></p></li>
<li><p><strong>darkTheme:</strong></p></li>
<li><p><strong>highContrastTheme:</strong></p></li>
<li><p><strong>highContrastDarkTheme:</strong></p></li>
<li><p><strong>themeMode:</strong></p></li>
<li><p><strong>themeAnimationDuration:</strong></p></li>
<li><p><strong>themeAnimationCurve:</strong></p></li>
<li><p><strong>themeAnimationStyle:</strong></p></li>
<li><p><strong>locale:</strong></p></li>
<li><p><strong>supportedLocales:</strong></p></li>
<li><p><strong>localizationsDelegates:</strong></p></li>
<li><p><strong>localeResolutionCallback:</strong></p></li>
<li><p><strong>localeListResolutionCallback:</strong></p></li>
<li><p><strong>debugShowCheckedModeBanner:</strong></p></li>
<li><p><strong>debugShowMaterialGrid:</strong></p></li>
<li><p><strong>showPerformanceOverlay:</strong></p></li>
<li><p><strong>showSemanticsDebugger:</strong></p></li>
<li><p><strong>shortcuts:</strong></p></li>
<li><p><strong>actions:</strong></p></li>
<li><p><strong>restorationScopeId:</strong></p></li>
<li><p><strong>scrollBehavior:</strong></p></li>
<li><p><strong>onNavigationNotification:</strong></p></li>
</ol>
</div></blockquote>
<p><strong>)</strong></p>
</section>
<section id="routerconfig">
<h2>‚úÖ1.routerConfig:<a class="headerlink" href="#routerconfig" title="Link to this heading">¬∂</a></h2>
<p>This example uses <strong>GoRouter</strong> (a popular routing package) to show two pages: <strong>Home</strong> and <strong>About.</strong></p>
<p><strong>‚úÖ Step 1: Add dependency in pubspec.yaml</strong></p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dependencies</span><span class="p">:</span>
<span class="nt">flutter</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sdk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">flutter</span>
<span class="nt">go_router</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^10.0.0</span>
</pre></div>
</div>
<p>Run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>flutter<span class="w"> </span>pub<span class="w"> </span>get
</pre></div>
</div>
<p><strong>‚úÖ Step 2: main.dart (Simple program using routerConfig)</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:go_router/go_router.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Step 3: Define your router here</span>
<span class="kd">final</span><span class="w"> </span><span class="n">GoRouter</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GoRouter</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routes:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="n">GoRoute</span><span class="p">(</span>
<span class="w">            </span><span class="nl">path:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="n">GoRoute</span><span class="p">(</span>
<span class="w">            </span><span class="nl">path:</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">state</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">(),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">    </span><span class="p">],</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span><span class="w">   </span><span class="c1">// üëà THIS IS THE MAIN PART</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ------------------ HOME PAGE ------------------ */</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">context</span><span class="p">.</span><span class="n">go</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">);</span><span class="w">    </span><span class="c1">// Navigate using router</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Go to About Page&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ------------------ ABOUT PAGE ------------------ */</span>
<span class="kd">class</span><span class="w"> </span><span class="nc">AboutPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;About&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">context</span><span class="p">.</span><span class="n">go</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span><span class="w">  </span><span class="c1">// Go back to Home</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Back to Home&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üîç What exactly is routerConfig doing?</strong></p>
<p>routerConfig is the <strong>brain of the navigation system.</strong></p>
<p>It tells Flutter:</p>
<blockquote>
<div><p>‚úÖ What pages exist</p>
<p>‚úÖ What their paths are (/ and /about)</p>
<p>‚úÖ How to move between them</p>
</div></blockquote>
<p><strong>This line connects everything:</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>
</pre></div>
</div>
<p>Without this, the app doesn‚Äôt know how to handle the routes.</p>
<hr class="docutils" />
<p>üß† Short explanation (easy words)</p>
<dl class="simple">
<dt>Think of routerConfig like a <strong>map:</strong></dt><dd><ul class="simple">
<li><p>/ ‚Üí HomePage</p></li>
<li><p>/about ‚Üí AboutPage</p></li>
</ul>
</dd>
</dl>
<p>When you say:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">context</span><span class="p">.</span><span class="n">go</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Flutter looks at routerConfig and says:</p>
<blockquote>
<div><p>‚ÄúOkay, /about = AboutPage‚Äù ‚Üí then opens that screen.</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="routerdelegate">
<h2>‚úÖ2.routerDelegate:<a class="headerlink" href="#routerdelegate" title="Link to this heading">¬∂</a></h2>
<p>Here is a <strong>very simple and clean Flutter example</strong> that demonstrates the <strong>routerDelegate: parameter in MaterialApp.router</strong> using a <strong>custom RouterDelegate.</strong></p>
<p>This is the <strong>pure Flutter way</strong> (no go_router, no packages) so you can clearly understand how routerDelegate works.</p>
<p><strong>‚úÖ What this example does</strong></p>
<dl class="simple">
<dt>Two pages:</dt><dd><ul class="simple">
<li><p>Home page</p></li>
<li><p>About page</p></li>
</ul>
</dd>
</dl>
<p>A custom MyRouterDelegate decides which page is shown.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================== MY APP ================== */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="c1">// Create delegate + parser once</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá Focus of this example</span>
<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span><span class="w">               </span><span class="c1">// RouterDelegate&lt;Object&gt;</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span><span class="w"> </span><span class="c1">// RouteInformationParser&lt;Object&gt;</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* =========== ROUTER DELEGATE =========== */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyRouterDelegate</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Helper methods to control navigation</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goToAbout</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span><span class="w"> </span><span class="c1">// tell Router to rebuild Navigator</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goToHome</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;HomePage&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_showAboutPage</span><span class="p">)</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;AboutPage&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// ‚úÖ New API ‚Äì used instead of deprecated onPopPage</span>
<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// If the About page was removed (e.g. back button),</span>
<span class="w">                </span><span class="c1">// update our internal state to match.</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;AboutPage&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Required by RouterDelegate&lt;Object&gt;</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// configuration is whatever parseRouteInformation returns.</span>
<span class="w">        </span><span class="c1">// For our simple example we only care about &#39;/&#39; and &#39;/about&#39;.</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configuration</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="c1">// no need to notifyListeners() here usually; Router may rebuild.</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ======== ROUTE INFORMATION PARSER ======== */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Very simple: check the path</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">location</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Uri</span><span class="p">.</span><span class="n">parse</span><span class="p">(</span><span class="n">location</span><span class="p">);</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="n">pathSegments</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">uri</span><span class="p">.</span><span class="n">pathSegments</span><span class="p">.</span><span class="n">first</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// default</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================== HOME PAGE ================== */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Get our custom delegate</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home Page&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="c1">// üëá Using routerDelegate to navigate</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goToAbout</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Go to About Page&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================== ABOUT PAGE ================== */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AboutPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;About Page&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="c1">// Navigate back using routerDelegate</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goToHome</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Back to Home&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>1. Where is routerDelegate in your program?</strong></p>
<p>This line in <strong>MyApp</strong> is the important part:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">    </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">    </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Here:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
</pre></div>
</div>
<p>That means:</p>
<blockquote>
<div><p>You are telling Flutter:
<strong>‚ÄúDon‚Äôt handle navigation yourself ‚Äî let MyRouterDelegate control it.‚Äù</strong></p>
</div></blockquote>
<p>So <strong>routerDelegate is like the BRAIN of navigation</strong> in your app.</p>
<p><strong>2. What is routerDelegate actually doing?</strong></p>
<dl class="simple">
<dt>The routerDelegate:</dt><dd><ul class="simple">
<li><p>Creates the <strong>Navigator</strong></p></li>
<li><p>Adds <strong>pages to the Navigator stack</strong></p></li>
<li><p>Removes <strong>pages from the Navigator stack</strong></p></li>
<li><p>Controls <strong>which page is currently shown</strong></p></li>
</ul>
</dd>
</dl>
<p>This is the part inside your MyRouterDelegate that does the real job:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nd">@override</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">        </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>

<span class="w">        </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                </span><span class="nl">key:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;HomePage&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_showAboutPage</span><span class="p">)</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;AboutPage&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>

<span class="w">        </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;AboutPage&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt>This means:</dt><dd><ul class="simple">
<li><p>Home page is <strong>always shown</strong></p></li>
<li><p>About page is shown <strong>only when:</strong></p></li>
</ul>
</dd>
</dl>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
<p>So your routerDelegate says:</p>
<blockquote>
<div><p>If _showAboutPage is true ‚Üí show About page</p>
<p>If false ‚Üí don‚Äôt show About page</p>
</div></blockquote>
<p>That‚Äôs total control.</p>
<p><strong>3. How does navigation happen?</strong></p>
<p>In your HomePage you wrote:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">delegate</span><span class="p">.</span><span class="n">goToAbout</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This method is inside MyRouterDelegate:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="n">goToAbout</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt>So the flow is:</dt><dd><ol class="arabic simple">
<li><p>Button pressed ‚Üí delegate.goToAbout()</p></li>
<li><p>_showAboutPage = true</p></li>
<li><p>notifyListeners() tells Flutter: <strong>‚ÄúRebuild pages‚Äù</strong></p></li>
<li><p>build() runs again</p></li>
<li><p>Now About page is added to pages</p></li>
<li><p>You see the <strong>About Screen</strong></p></li>
</ol>
</dd>
</dl>
<p><strong>That is routerDelegate in action.</strong></p>
<p>It is NOT using Navigator.push()</p>
<p>It is using <strong>state-based navigation</strong> controlled by the <strong>delegate.</strong></p>
<p><strong>4. Back button &amp; onDidRemovePage</strong></p>
<p>When you press the back button on Android or the back gesture on iOS:</p>
<p>Flutter removes the page.</p>
<p>This code handles that:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;AboutPage&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">},</span>
</pre></div>
</div>
<p>This means:</p>
<p>If About page is removed ‚Üí switch _showAboutPage back to false ‚Üí show Home again</p>
<p>Again, that logic is in <strong>routerDelegate.</strong></p>
<p>So routerDelegate is not just about going forward ‚Äî it also controls <strong>back navigation.</strong></p>
<p><strong>5. Simple understanding (real-life example)</strong></p>
<p>Think of routerDelegate as a <strong>security guard at a door:</strong></p>
<blockquote>
<div><p>You: ‚ÄúLet the user in‚Äù
Delegate: ‚úÖ shows page</p>
<p>You: ‚ÄúSend the user back‚Äù
Delegate: ‚úÖ removes page</p>
<p>You: ‚ÄúOnly allow About page if true‚Äù
Delegate: ‚úÖ uses condition (_showAboutPage)</p>
</div></blockquote>
<p>So:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Thing</p></th>
<th class="head"><p>Who controls it?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Showing Home</p></td>
<td><p>routerDelegate</p></td>
</tr>
<tr class="row-odd"><td><p>Showing About</p></td>
<td><p>routerDelegate</p></td>
</tr>
<tr class="row-even"><td><p>Going back</p></td>
<td><p>routerDelegate</p></td>
</tr>
<tr class="row-odd"><td><p>Page stack</p></td>
<td><p>routerDelegate</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>6. Short definition (you can remember this)</strong></p>
<blockquote>
<div><p><strong>routerDelegate: is a controller that decides which pages are in your app‚Äôs navigation stack and when they appear or disappear.</strong></p>
</div></blockquote>
<p>In very simple words:</p>
<blockquote>
<div><p><strong>routerDelegate = Navigation Brain</strong></p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="routeinformationparser">
<h2>‚úÖ3.routeInformationParser:<a class="headerlink" href="#routeinformationparser" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ What this program shows</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>How routeInformationParser reads a <strong>URL/path</strong> (like / or /about)</p></li>
<li><p>How it converts that into <strong>app state</strong></p></li>
<li><p>How routerDelegate uses that state to show the correct page</p></li>
</ul>
</div></blockquote>
<p>You can run this on <strong>mobile or web.</strong></p>
<p><strong>‚úÖ Complete Working Example (main.dart)</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá This is our focus</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// RouterDelegate uses the parsed information</span>
<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============= ROUTER DELEGATE ============= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>

<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;HomePage&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_isAboutPage</span><span class="p">)</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;AboutPage&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;AboutPage&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// This gets the result FROM the RouteInformationParser</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configuration</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Manual navigation (button)</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goToAbout</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goHome</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ===== ROUTE INFORMATION PARSER (MAIN FOCUS) ===== */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// This is the URL/path in the browser or deep link</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">location</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>

<span class="w">        </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;URL received: </span><span class="si">$</span><span class="n">location</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Convert URL into something the RouterDelegate understands</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="p">.</span><span class="n">toLowerCase</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">;</span><span class="w">   </span><span class="c1">// send to RouterDelegate</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span><span class="w"> </span><span class="c1">// default</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goToAbout</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Go to About&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= ABOUT ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AboutPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;About&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goHome</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Back to Home&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What is routeInformationParser in simple words?</strong></p>
<p><strong>Very simple definition:</strong></p>
<p>routeInformationParser = the <strong>translator between URL and your app</strong></p>
<p>Example:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Browser URL</p></th>
<th class="head"><p>Parsed by routeInformationParser</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>/</p></td>
<td><p>‚Äò/‚Äô</p></td>
<td><p>Home Page</p></td>
</tr>
<tr class="row-odd"><td><p>/about</p></td>
<td><p>‚Äò/about‚Äô</p></td>
<td><p>About Page</p></td>
</tr>
</tbody>
</table>
</div>
<p>This part is the key:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">location</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>

<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>You are saying:</p>
<blockquote>
<div><p>‚ÄúWhen the URL is /about, I want to show the About page.‚Äù</p>
</div></blockquote>
<p>That value is passed into this in RouterDelegate:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt>So:</dt><dd><ol class="arabic simple">
<li><p>User types /about</p></li>
<li><p>routeInformationParser reads /about</p></li>
<li><p>Sends /about to RouterDelegate</p></li>
<li><p>RouterDelegate shows About page</p></li>
</ol>
</dd>
</dl>
<p>‚úÖ That is exactly <strong>how deep linking &amp; web routing work</strong></p>
<p><strong>Super-short memory tip</strong></p>
<p><strong>routeInformationParser = URL Reader + Translator</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Reads browser URL</p></li>
<li><p>Converts it to app state</p></li>
<li><p>Sends to routerDelegate</p></li>
</ul>
</div></blockquote>
<p><strong>routerDelegate = Page Controller</strong></p>
</section>
<hr class="docutils" />
<section id="routeinformationprovider">
<h2>‚úÖ4.routeInformationProvider:<a class="headerlink" href="#routeinformationprovider" title="Link to this heading">¬∂</a></h2>
<p><strong>üß† First ‚Äì What is routeInformationProvider?</strong></p>
<p>In simple words:</p>
<blockquote>
<div><p><strong>routeInformationProvider is the source of the route (URL/path) for your app.</strong></p>
</div></blockquote>
<dl class="simple">
<dt>It <strong>provides</strong> the current route (like / or /about) to:</dt><dd><ul class="simple">
<li><p>routeInformationParser</p></li>
<li><p>routerDelegate</p></li>
</ul>
</dd>
</dl>
<p>Without it, Flutter uses a default one (from the platform).
When you provide your own ‚Äî <strong>you are the source of the route.</strong></p>
<p>Think of it like:</p>
<blockquote>
<div><p><strong>‚ÄúWhere does the app get the current path from?‚Äù</strong></p>
</div></blockquote>
<p><strong>‚úÖ Simple Working Example: routeInformationProvider</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// üëá THIS IS OUR CUSTOM PROVIDER</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationProvider</span><span class="w"> </span><span class="n">_routeInformationProvider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationProvider</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üîπ MAIN FOCUS OF THIS EXAMPLE</span>
<span class="w">            </span><span class="nl">routeInformationProvider:</span><span class="w"> </span><span class="n">_routeInformationProvider</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ CUSTOM ROUTE INFORMATION PROVIDER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationProvider</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationProvider</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">RouteInformation</span><span class="p">(</span><span class="nl">location:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// default route</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">RouteInformation</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Custom method to update route</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">updateRoute</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">newLocation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouteInformation</span><span class="p">(</span><span class="nl">location:</span><span class="w"> </span><span class="n">newLocation</span><span class="p">);</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_isAboutPage</span><span class="p">)</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;about&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;about&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configuration</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_isAboutPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">location</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">location</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routeInformationProvider</span>
<span class="w">            </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouteInformationProvider</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="c1">// Change route using Provider</span>
<span class="w">                        </span><span class="n">provider</span><span class="p">.</span><span class="n">updateRoute</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// üëà THIS LINE</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">notifyListeners</span><span class="p">();</span><span class="w">      </span><span class="c1">// refresh router</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Go to About&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= ABOUT ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AboutPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">provider</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routeInformationProvider</span>
<span class="w">            </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouteInformationProvider</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;About&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">provider</span><span class="p">.</span><span class="n">updateRoute</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// go back</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Back to Home&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üîç Focus on routeInformationProvider</strong></p>
<p>This is the <strong>key line in MyApp:</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">routeInformationProvider:</span><span class="w"> </span><span class="n">_routeInformationProvider</span><span class="p">,</span>
</pre></div>
</div>
<p>And this is the <strong>core logic:</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationProvider</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationProvider</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">RouteInformation</span><span class="p">(</span><span class="nl">location:</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">RouteInformation</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">updateRoute</span><span class="p">(</span><span class="kt">String</span><span class="w"> </span><span class="n">newLocation</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouteInformation</span><span class="p">(</span><span class="nl">location:</span><span class="w"> </span><span class="n">newLocation</span><span class="p">);</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>What this means:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>_value stores the <strong>current route</strong></p></li>
<li><p>value gives the route to Flutter</p></li>
<li><p>notifyListeners() tells Flutter:</p></li>
</ul>
</div></blockquote>
<p>‚ÄúHey! The route has changed!‚Äù</p>
<p>In your buttons:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">provider</span><span class="p">.</span><span class="n">updateRoute</span><span class="p">(</span><span class="s1">&#39;/about&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>That is how you <strong>change the URL/route</strong> using the <strong>provider.</strong></p>
<p><strong>üß† Simple understanding (remember this)</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Part</p></th>
<th class="head"><p>Job</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>routeInformationProvider</p></td>
<td><p>Gives current route (URL)</p></td>
</tr>
<tr class="row-odd"><td><p>routeInformationParser</p></td>
<td><p>Reads &amp; translates the route</p></td>
</tr>
<tr class="row-even"><td><p>routerDelegate</p></td>
<td><p>Shows correct pages</p></td>
</tr>
</tbody>
</table>
</div>
<p>Think like this:</p>
<blockquote>
<div><p>Provider = ‚ÄúHere is the path‚Äù</p>
<p>Parser = ‚ÄúI understand the path‚Äù</p>
<p>Delegate = ‚ÄúI show the page‚Äù</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="backbuttondispatcher">
<h2>‚úÖ5.backButtonDispatcher:<a class="headerlink" href="#backbuttondispatcher" title="Link to this heading">¬∂</a></h2>
<p><strong>üß† What is backButtonDispatcher (in simple words)?</strong></p>
<p><strong>backButtonDispatcher controls who handles the BACK button first.</strong></p>
<dl class="simple">
<dt>It decides:</dt><dd><ul class="simple">
<li><p>Should the Router handle back?</p></li>
<li><p>Or should the Navigator handle back?</p></li>
<li><p>Or should I override it?</p></li>
</ul>
</dd>
</dl>
<p>Normally Flutter does it automatically‚Ä¶</p>
<p>But with backButtonDispatcher, you can <strong>take control.</strong></p>
<p><strong>‚úÖ Simple working example showing backButtonDispatcher</strong></p>
<dl class="simple">
<dt>This app has:</dt><dd><ul class="simple">
<li><p>Home page</p></li>
<li><p>About page</p></li>
</ul>
</dd>
<dt>Using back button:</dt><dd><ul class="simple">
<li><p>Goes back to home</p></li>
<li><p>Then exits app</p></li>
</ul>
</dd>
</dl>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// üëá CUSTOM BACK BUTTON DISPATCHER</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">RootBackButtonDispatcher</span><span class="w"> </span><span class="n">_backButtonDispatcher</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">RootBackButtonDispatcher</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// ‚úÖ THIS IS THE POINT OF THIS EXAMPLE</span>
<span class="w">            </span><span class="nl">backButtonDispatcher:</span><span class="w"> </span><span class="n">_backButtonDispatcher</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goToAbout</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goHome</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>

<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_showAbout</span><span class="p">)</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;about&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;about&#39;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">                    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">configuration</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">location</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">location</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">location</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home Page&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goToAbout</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Go to About Page&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= ABOUT ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AboutPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;About Page&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goHome</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Back to Home&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üîç What part is backButtonDispatcher?</strong></p>
<p>This is the key line:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="kd">final</span><span class="w"> </span><span class="n">RootBackButtonDispatcher</span><span class="w"> </span><span class="n">_backButtonDispatcher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RootBackButtonDispatcher</span><span class="p">();</span>
</pre></div>
</div>
<p>And it is connected here:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">    </span><span class="nl">backButtonDispatcher:</span><span class="w"> </span><span class="n">_backButtonDispatcher</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This says:</p>
<blockquote>
<div><p>‚ÄúLet the Router system manage the back button in a smart way.‚Äù</p>
</div></blockquote>
<dl class="simple">
<dt>When you press:</dt><dd><ul class="simple">
<li><p>Back on <strong>About page</strong> ‚Üí it goes to <strong>Home</strong></p></li>
<li><p>Back on <strong>Home</strong> ‚Üí app closes (or browser back works)</p></li>
</ul>
</dd>
</dl>
<p>The RootBackButtonDispatcher automatically gives <strong>priority to the router.</strong></p>
<p><strong>üß† Ultra-simple summary (remember this)</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Job</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>backButtonDispatcher</p></td>
<td><p>Controls back button behavior</p></td>
</tr>
<tr class="row-odd"><td><p>routerDelegate</p></td>
<td><p>Controls pages</p></td>
</tr>
<tr class="row-even"><td><p>routeInformationParser</p></td>
<td><p>Reads URL</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Real life analogy:</strong></p>
<blockquote>
<div><p>backButtonDispatcher = traffic police for the back button</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="builder">
<h2>‚úÖ6.builder:<a class="headerlink" href="#builder" title="Link to this heading">¬∂</a></h2>
<p><strong>üß† What is builder: in MaterialApp.router?</strong></p>
<p><strong>In very simple words:</strong></p>
<p>builder is a <strong>wrapper</strong> around the whole app.</p>
<p>Whatever you put in builder will be applied to <strong>every page</strong> in your app ‚Äî like a global layer.</p>
<dl class="simple">
<dt>You can use it for:</dt><dd><ul class="simple">
<li><p>Themes</p></li>
<li><p>MediaQuery changes</p></li>
<li><p>Overlays</p></li>
<li><p>Global widgets (like banners, watermarks, padding, etc.)</p></li>
</ul>
</dd>
</dl>
<p>Think like this:</p>
<blockquote>
<div><p>builder = ‚ÄúWrap my entire app inside this widget‚Äù</p>
</div></blockquote>
<p><strong>‚úÖ Simple example: builder: in action</strong></p>
<p>This example wraps <strong>every page</strong> inside a <strong>blue border and padding</strong>, so you can visually see the effect of builder.</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// builder example still here</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">padding:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">border:</span><span class="w"> </span><span class="n">Border</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="nl">width:</span><span class="w"> </span><span class="m">4</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="o">??</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">.</span><span class="n">shrink</span><span class="p">(),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goToAbout</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goHome</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;home&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_showAbout</span><span class="p">)</span>
<span class="w">                </span><span class="k">const</span><span class="w"> </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">key:</span><span class="w"> </span><span class="n">ValueKey</span><span class="p">(</span><span class="s1">&#39;about&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_showAbout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ FIXED PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="c1">// ‚úÖ NEW WAY (no deprecation)</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">Uri</span><span class="w"> </span><span class="n">uri</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">uri</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="n">path</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/about&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home Page&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goToAbout</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Go to About Page&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= ABOUT ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">AboutPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">AboutPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">delegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Router</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">routerDelegate</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;About Page&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="n">delegate</span><span class="p">.</span><span class="n">goHome</span><span class="p">();</span>
<span class="w">                    </span><span class="p">},</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Back to Home&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üîç Focus: THIS is the builder parameter</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Container</span><span class="p">(</span>
<span class="w">        </span><span class="nl">padding:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">EdgeInsets</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="m">20</span><span class="p">),</span>
<span class="w">        </span><span class="nl">decoration:</span><span class="w"> </span><span class="n">BoxDecoration</span><span class="p">(</span>
<span class="w">        </span><span class="nl">border:</span><span class="w"> </span><span class="n">Border</span><span class="p">.</span><span class="n">all</span><span class="p">(</span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span><span class="w"> </span><span class="nl">width:</span><span class="w"> </span><span class="m">4</span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="p">,</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">},</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>What this means</strong></dt><dd><ul class="simple">
<li><p>child = the page that router is building (Home / About)</p></li>
<li><p>We wrap that page in a Container</p></li>
<li><p>That container has:</p></li>
<li><p>Padding</p></li>
<li><p>Blue border</p></li>
</ul>
</dd>
</dl>
<p>So <strong>every page in your app</strong> will appear inside that blue bordered container.</p>
<p>This is why it is called <strong>global wrapper.</strong></p>
<p><strong>üß† Simple memory tip</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>What it does</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>builder:</p></td>
<td><p>Wraps the whole app</p></td>
</tr>
<tr class="row-odd"><td><p>routerDelegate:</p></td>
<td><p>Controls pages</p></td>
</tr>
<tr class="row-even"><td><p>routeInformationParser:</p></td>
<td><p>Reads URL</p></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<div><p>builder = <strong>Global decorator / wrapper</strong></p>
</div></blockquote>
</section>
<section id="title">
<h2>‚úÖ7.title:<a class="headerlink" href="#title" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program to describe title: in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS is the focus of this example</span>
<span class="w">            </span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;My Router App&#39;</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Not needed for this simple example</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home Page&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;Look at the browser tab or task switcher title!&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does title: actually do?</strong></p>
<p>This line:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;My Router App&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>Controls:</p>
<p><strong>‚úÖ On Flutter Web</strong></p>
<ul class="simple">
<li><p>The <strong>browser tab name</strong> becomes:</p></li>
</ul>
<blockquote>
<div><p><strong>My Router App</strong></p>
</div></blockquote>
<dl class="simple">
<dt><strong>‚úÖ On Android / iOS</strong></dt><dd><ul class="simple">
<li><p>Shows in the <strong>app switcher</strong></p></li>
<li><p>Helps OS identify your app</p></li>
</ul>
</dd>
<dt><strong>‚ùå It does NOT affect</strong></dt><dd><ul class="simple">
<li><p>AppBar title</p></li>
<li><p>Page title inside the screen</p></li>
</ul>
</dd>
</dl>
<p>For that, you still use:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home Page&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p><strong>üß© Simple comparison</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Code</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>title: ‚ÄòMy Router App‚Äô</p></td>
<td><p>Changes browser/app name</p></td>
</tr>
<tr class="row-odd"><td><p>AppBar(title: Text(‚ÄòHome‚Äô))</p></td>
<td><p>Changes top bar text</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>‚úÖ Very short definition</strong></p>
<blockquote>
<div><p><strong>title: in MaterialApp.router is the name of the app for the operating system and browser, not the page content.</strong></p>
</div></blockquote>
</section>
<section id="ongeneratetitle">
<h2>‚úÖ8.onGenerateTitle:<a class="headerlink" href="#ongeneratetitle" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program to describe onGenerateTitle</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá FOCUS: Dynamic title instead of fixed `title:`</span>
<span class="w">            </span><span class="nl">onGenerateTitle:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Dynamic Router Title&#39;</span><span class="p">;</span>
<span class="w">            </span><span class="p">},</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Not needed for this simple example</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">        </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Home Page&#39;</span><span class="p">)),</span>
<span class="w">        </span><span class="nl">body:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                </span><span class="s1">&#39;Look at browser tab / app switcher title&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does onGenerateTitle really do?</strong></p>
<p>This line is the main point:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">onGenerateTitle:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;Dynamic Router Title&#39;</span><span class="p">;</span>
<span class="p">},</span>
</pre></div>
</div>
<p>Instead of a fixed title:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">title:</span><span class="w"> </span><span class="s1">&#39;My App&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>you now <strong>generate the title at runtime</strong> using a function.</p>
<dl class="simple">
<dt>That function:</dt><dd><ul class="simple">
<li><p>Gets a BuildContext</p></li>
<li><p>Must return a String</p></li>
</ul>
</dd>
</dl>
<p>So this is possible too:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">onGenerateTitle:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">hour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DateTime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">hour</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">hour</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Good Morning App&#39;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Good Evening App&#39;</span><span class="p">;</span>
<span class="p">},</span>
</pre></div>
</div>
<p>Now the app title changes based on time ‚úÖ</p>
<p><strong>‚úÖ Important rule</strong></p>
<dl class="simple">
<dt>You should use:</dt><dd><ul class="simple">
<li><p>Either <strong>title:</strong></p></li>
<li><p>Or <strong>onGenerateTitle:</strong></p></li>
</ul>
</dd>
</dl>
<p>Not both.
If both are present ‚Üí onGenerateTitle wins.</p>
<p><strong>Very simple meaning</strong></p>
<blockquote>
<div><p>title: = static name</p>
<p>onGenerateTitle: = dynamic name (calculated by a function)</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="color">
<h2>‚úÖ9.color:<a class="headerlink" href="#color" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program to describe color: in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS is the focus of this example</span>
<span class="w">            </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span><span class="w">   </span><span class="c1">// Background color for the app window</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Not needed for this example</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span>
<span class="w">        </span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">,</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span><span class="w"> </span><span class="c1">// Contrast with app color</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Color Demo&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;The BLUE you see behind this page</span><span class="se">\n</span><span class="s1">comes from MaterialApp.color&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does color: actually do?</strong></p>
<p>This line:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
</pre></div>
</div>
<p>Controls the <strong>background color behind your app‚Äôs pages.</strong></p>
<p>Important facts:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Thing</p></th>
<th class="head"><p>Is it affected by color:?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Scaffold background</p></td>
<td><p>‚ùå No</p></td>
</tr>
<tr class="row-odd"><td><p>Container color</p></td>
<td><p>‚ùå No</p></td>
</tr>
<tr class="row-even"><td><p>AppBar color</p></td>
<td><p>‚ùå No</p></td>
</tr>
<tr class="row-odd"><td><p>Behind the entire app (window/background)</p></td>
<td><p>‚úÖ YES</p></td>
</tr>
</tbody>
</table>
</div>
<p>If your Scaffold has transparent sections, you will see the MaterialApp.color behind it.</p>
<p><strong>‚úÖ Where you notice it most</strong></p>
<dl class="simple">
<dt>You‚Äôll notice the color more clearly when:</dt><dd><ul class="simple">
<li><p>Using web</p></li>
<li><p>Using transparent widgets</p></li>
<li><p>During transitions/loading</p></li>
<li><p>On splash / root level</p></li>
</ul>
</dd>
</dl>
<p>It‚Äôs basically the <strong>base / root color of the app window.</strong></p>
<p><strong>Super short definition</strong></p>
<blockquote>
<div><p><strong>color: in MaterialApp.router is the base background color behind your entire app.</strong></p>
</div></blockquote>
</section>
<section id="theme">
<h2>‚úÖ10.theme:<a class="headerlink" href="#theme" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program to describe theme: in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS is the focus of this example</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">                </span><span class="nl">primaryColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">deepPurple</span><span class="p">,</span>
<span class="w">                </span><span class="nl">appBarTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AppBarTheme</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">deepPurple</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">elevatedButtonTheme:</span><span class="w"> </span><span class="n">ElevatedButtonThemeData</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">deepPurple</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">foregroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">textTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextTheme</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">bodyMedium:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">18</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">()),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Not needed for this simple example</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Theme Demo&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;This color comes from the Theme&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                        </span><span class="n">ThemedButton</span><span class="p">(),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= BUTTON ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ThemedButton</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">ThemedButton</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Themed Button&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does theme: do?</strong></p>
<p>This part is the key:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">    </span><span class="nl">primaryColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">deepPurple</span><span class="p">,</span>
<span class="w">    </span><span class="nl">appBarTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AppBarTheme</span><span class="p">(</span>
<span class="w">        </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">deepPurple</span><span class="p">,</span>
<span class="w">    </span><span class="p">),</span>
<span class="w">    </span><span class="nl">elevatedButtonTheme:</span><span class="w"> </span><span class="n">ElevatedButtonThemeData</span><span class="p">(</span>
<span class="w">        </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">            </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">deepPurple</span><span class="p">,</span>
<span class="w">            </span><span class="nl">foregroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">    </span><span class="p">),</span>
<span class="p">),</span>
</pre></div>
</div>
<p>It controls the <strong>global design</strong> of your app:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Widget</p></th>
<th class="head"><p>What changed</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AppBar</p></td>
<td><p>Purple</p></td>
</tr>
<tr class="row-odd"><td><p>ElevatedButton</p></td>
<td><p>Purple with white text</p></td>
</tr>
<tr class="row-even"><td><p>Text</p></td>
<td><p>Bigger (18px)</p></td>
</tr>
<tr class="row-odd"><td><p>Entire app look</p></td>
<td><p>Styled by theme</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="simple">
<dt>You did <strong>not</strong> set any colors in:</dt><dd><ul class="simple">
<li><p>AppBar()</p></li>
<li><p>ElevatedButton()</p></li>
<li><p>Text()</p></li>
</ul>
</dd>
</dl>
<p>The <strong>theme applied it automatically ‚úÖ</strong></p>
<p>That is the purpose of theme:.</p>
<p><strong>‚úÖ Simple meaning (remember this)</strong></p>
<p><strong>theme: = global style controller for the entire app</strong></p>
<p>Instead of setting colors on every widget, you define them once in MaterialApp.router using ThemeData.</p>
</section>
<hr class="docutils" />
<section id="darktheme">
<h2>‚úÖ11.darkTheme:<a class="headerlink" href="#darktheme" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program to describe darkTheme: in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá LIGHT THEME</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// üëá DARK THEME (MAIN FOCUS)</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// üëá Uses device/system setting (Light or Dark)</span>
<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="nd">@override</span>
<span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="nd">@override</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">        </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">        </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">()),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>

<span class="nd">@override</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Not required for this example</span>
<span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">brightness</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;darkTheme Demo&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="n">brightness</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span>
<span class="w">                        </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Dark Theme is ACTIVE&#39;</span>
<span class="w">                        </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Light Theme is ACTIVE&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What is darkTheme: doing here?</strong></p>
<p>This line is the key:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>
</pre></div>
</div>
<p>Together with:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">,</span>
</pre></div>
</div>
<p>It means:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>System setting</p></th>
<th class="head"><p>App uses</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Light mode</p></td>
<td><p>theme:</p></td>
</tr>
<tr class="row-odd"><td><p>Dark mode</p></td>
<td><p>darkTheme:</p></td>
</tr>
</tbody>
</table>
</div>
<p>So:</p>
<blockquote>
<div><ul class="simple">
<li><p>Turn your <strong>phone/computer to Dark Mode</strong></p></li>
<li><p>Reload app ‚Üí UI becomes dark</p></li>
<li><p>Switch back to Light Mode ‚Üí UI becomes light</p></li>
</ul>
</div></blockquote>
<p>That‚Äôs all controlled from <strong>MaterialApp.router.</strong></p>
<p><strong>‚úÖ Important: Relationship of 3 things</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>
<span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>
<span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">,</span>
</pre></div>
</div>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Setting</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>theme</p></td>
<td><p>Light theme design</p></td>
</tr>
<tr class="row-odd"><td><p>darkTheme</p></td>
<td><p>Dark theme design</p></td>
</tr>
<tr class="row-even"><td><p>themeMode</p></td>
<td><p>Which one to use</p></td>
</tr>
</tbody>
</table>
</div>
<p>You can also force it:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="w">   </span><span class="c1">// Always dark</span>
<span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="w">  </span><span class="c1">// Always light</span>
</pre></div>
</div>
<p><strong>üß© Super simple meaning</strong></p>
<blockquote>
<div><p><strong>darkTheme: is the design your app uses when system is in Dark Mode.</strong></p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="highcontrasttheme">
<h2>‚úÖ12.highContrastTheme:<a class="headerlink" href="#highcontrasttheme" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program for highContrastTheme in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Normal light theme</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// Dark theme</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// ‚úÖ HIGH CONTRAST THEME (MAIN FOCUS)</span>
<span class="w">            </span><span class="nl">highContrastTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">                </span><span class="nl">brightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">light</span><span class="p">,</span>
<span class="w">                </span><span class="nl">primaryColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                </span><span class="nl">scaffoldBackgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">yellow</span><span class="p">,</span>
<span class="w">                </span><span class="nl">appBarTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AppBarTheme</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">foregroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">textTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextTheme</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">bodyMedium:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="c1">// Use system setting (Light / Dark / High Contrast)</span>
<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">()),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span>
<span class="w">        </span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">isHighContrast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MediaQuery</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">highContrast</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">brightness</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;High Contrast Demo&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="n">isHighContrast</span>
<span class="w">                        </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;HIGH CONTRAST MODE ACTIVE&#39;</span>
<span class="w">                        </span><span class="o">:</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span>
<span class="w">                            </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;DARK MODE ACTIVE&#39;</span>
<span class="w">                            </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;LIGHT MODE ACTIVE&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">22</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does highContrastTheme: do?</strong></p>
<p>This part is the key:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">highContrastTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">    </span><span class="nl">scaffoldBackgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">yellow</span><span class="p">,</span>
<span class="w">    </span><span class="nl">appBarTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AppBarTheme</span><span class="p">(</span>
<span class="w">        </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">        </span><span class="nl">foregroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">    </span><span class="p">),</span>
<span class="p">),</span>
</pre></div>
</div>
<p>This tells Flutter:</p>
<blockquote>
<div><p>‚ÄúWhen the user turns on <strong>High Contrast Mode</strong> for accessibility, use THIS theme.‚Äù</p>
</div></blockquote>
<dl class="simple">
<dt>So you see:</dt><dd><ul class="simple">
<li><p>Bright background (yellow)</p></li>
<li><p>Strong contrast text (black / white)</p></li>
<li><p>Bigger &amp; bolder text</p></li>
</ul>
</dd>
</dl>
<p>This is for <strong>people with visual difficulties üëì</strong></p>
<p><strong>‚úÖ When is this theme used?</strong></p>
<p>When the <strong>device accessibility setting</strong> is:</p>
<p>‚úÖ High Contrast ON
‚ùå Not normal light/dark switch</p>
<p>You can detect it with:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">MediaQuery</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">highContrast</span>
</pre></div>
</div>
<p>That‚Äôs how the app knows what to display.</p>
<p><strong>Simple memory tip</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Setting</p></th>
<th class="head"><p>Used when</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>theme</p></td>
<td><p>Normal + Light Mode</p></td>
</tr>
<tr class="row-odd"><td><p>darkTheme</p></td>
<td><p>Dark Mode</p></td>
</tr>
<tr class="row-even"><td><p>‚úÖ highContrastTheme</p></td>
<td><p>Accessibility: High Contrast ON</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>highContrastTheme = special theme for accessibility users</strong></p>
</section>
<hr class="docutils" />
<section id="highcontrastdarktheme">
<h2>‚úÖ13.highContrastDarkTheme:<a class="headerlink" href="#highcontrastdarktheme" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program for highContrastDarkTheme</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üåû Normal Light Theme</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// üåô Normal Dark Theme</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// ‚úÖ High Contrast (Light)</span>
<span class="w">            </span><span class="nl">highContrastTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">                </span><span class="nl">brightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">light</span><span class="p">,</span>
<span class="w">                </span><span class="nl">scaffoldBackgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">yellow</span><span class="p">,</span>
<span class="w">                </span><span class="nl">appBarTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AppBarTheme</span><span class="p">(</span>
<span class="w">                </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                </span><span class="nl">foregroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="c1">// ‚úÖ High Contrast (Dark) ‚Äî MAIN FOCUS</span>
<span class="w">            </span><span class="nl">highContrastDarkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">                </span><span class="nl">brightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span><span class="p">,</span>
<span class="w">                </span><span class="nl">scaffoldBackgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                </span><span class="nl">appBarTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AppBarTheme</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">foregroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">textTheme:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextTheme</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">bodyMedium:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">color:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">22</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">fontWeight:</span><span class="w"> </span><span class="n">FontWeight</span><span class="p">.</span><span class="n">bold</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="nl">elevatedButtonTheme:</span><span class="w"> </span><span class="n">ElevatedButtonThemeData</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">.</span><span class="n">styleFrom</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">backgroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">white</span><span class="p">,</span>
<span class="w">                        </span><span class="nl">foregroundColor:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="c1">// Use system settings</span>
<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="nd">@override</span>
<span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="nd">@override</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">        </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">        </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">()),</span>
<span class="w">        </span><span class="p">],</span>
<span class="w">    </span><span class="p">);</span>
<span class="p">}</span>

<span class="nd">@override</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span>
<span class="w">        </span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">isHighContrast</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MediaQuery</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">highContrast</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">brightness</span><span class="p">;</span>

<span class="w">        </span><span class="kt">String</span><span class="w"> </span><span class="n">mode</span><span class="p">;</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isHighContrast</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;HIGH CONTRAST DARK MODE ACTIVE&#39;</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isHighContrast</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">light</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;HIGH CONTRAST LIGHT MODE ACTIVE&#39;</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">brightness</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;NORMAL DARK MODE ACTIVE&#39;</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;NORMAL LIGHT MODE ACTIVE&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;High Contrast Dark Demo&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                            </span><span class="n">mode</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{},</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Sample Button&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What is highContrastDarkTheme in simple words?</strong></p>
<dl>
<dt><strong>highContrastDarkTheme is used when the user turns ON:</strong></dt><dd><p>‚úÖ Dark Mode</p>
<p>‚úÖ High Contrast (in Accessibility)</p>
</dd>
</dl>
<p>This theme is created especially for:</p>
<blockquote>
<div><ul class="simple">
<li><p>People with low vision</p></li>
<li><p>Better readability</p></li>
<li><p>Strong color contrast</p></li>
</ul>
</div></blockquote>
<p>That‚Äôs why we used:</p>
<blockquote>
<div><ul class="simple">
<li><p>Black + White only</p></li>
<li><p>Large bold fonts</p></li>
<li><p>Strong contrast</p></li>
</ul>
</div></blockquote>
<p><strong>‚úÖ When will this theme activate?</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>System Mode</p></th>
<th class="head"><p>High Contrast</p></th>
<th class="head"><p>Theme Used</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Light</p></td>
<td><p>OFF</p></td>
<td><p>theme</p></td>
</tr>
<tr class="row-odd"><td><p>Dark</p></td>
<td><p>OFF</p></td>
<td><p>darkTheme</p></td>
</tr>
<tr class="row-even"><td><p>Light</p></td>
<td><p>ON</p></td>
<td><p>highContrastTheme</p></td>
</tr>
<tr class="row-odd"><td><p>‚úÖ Dark</p></td>
<td><p>‚úÖ ON</p></td>
<td><p>highContrastDarkTheme</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>Ultra-short memory tip</strong></p>
<blockquote>
<div><p><strong>highContrastDarkTheme = Dark Mode + Extra Visibility</strong></p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="thememode">
<h2>‚úÖ14.themeMode:<a class="headerlink" href="#thememode" title="Link to this heading">¬∂</a></h2>
<p>This example lets you <strong>switch between Light, Dark, and System mode</strong> by pressing buttons ‚Äî so you can visually understand exactly what themeMode does.</p>
<p><strong>‚úÖ Simple program to describe themeMode: in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyAppState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyAppState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// üëá Change this to control theme</span>
<span class="w">    </span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setLightMode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setDarkMode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">setSystemMode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// ‚úÖ Light Theme</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">                </span><span class="nl">brightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">light</span><span class="p">,</span>
<span class="w">                </span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="c1">// ‚úÖ Dark Theme</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">(</span>
<span class="w">                </span><span class="nl">brightness:</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span><span class="p">,</span>
<span class="w">                </span><span class="nl">primarySwatch:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="c1">// üëá MAIN FOCUS OF THIS EXAMPLE</span>
<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">_themeMode</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Pass buttons to HomePage</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">setLight:</span><span class="w"> </span><span class="n">setLightMode</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">setDark:</span><span class="w"> </span><span class="n">setDarkMode</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">setSystem:</span><span class="w"> </span><span class="n">setSystemMode</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">child</span><span class="o">!</span><span class="p">,</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">()),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ================= HOME ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">setLight</span><span class="p">;</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">setDark</span><span class="p">;</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">setSystem</span><span class="p">;</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">Widget</span><span class="w"> </span><span class="n">child</span><span class="p">;</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span>
<span class="w">        </span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">,</span>
<span class="w">        </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">setLight</span><span class="p">,</span>
<span class="w">        </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">setDark</span><span class="p">,</span>
<span class="w">        </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">setSystem</span><span class="p">,</span>
<span class="w">        </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">child</span><span class="p">,</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">brightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Theme</span><span class="p">.</span><span class="n">of</span><span class="p">(</span><span class="n">context</span><span class="p">).</span><span class="n">brightness</span><span class="p">;</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;themeMode Demo&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                            </span><span class="n">brightness</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">Brightness</span><span class="p">.</span><span class="n">dark</span>
<span class="w">                                </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;CURRENT MODE: DARK&#39;</span>
<span class="w">                                </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;CURRENT MODE: LIGHT&#39;</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                        </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">40</span><span class="p">),</span>

<span class="w">                        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">setLight</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Light Mode&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>

<span class="w">                        </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>

<span class="w">                        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">setDark</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Dark Mode&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>

<span class="w">                        </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>

<span class="w">                        </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">setSystem</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;System Mode&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">],</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does themeMode: do (simple words)?</strong></p>
<p>This line is the key:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">_themeMode</span><span class="p">,</span>
</pre></div>
</div>
<p>And _themeMode can be only <strong>3 values:</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="w">   </span><span class="c1">// Always light</span>
<span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="w">    </span><span class="c1">// Always dark</span>
<span class="n">ThemeMode</span><span class="p">.</span><span class="n">system</span><span class="w">  </span><span class="c1">// Follow device setting</span>
</pre></div>
</div>
<p>So:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Button</p></th>
<th class="head"><p>What happens</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Light Mode</p></td>
<td><p>App becomes light</p></td>
</tr>
<tr class="row-odd"><td><p>Dark Mode</p></td>
<td><p>App becomes dark</p></td>
</tr>
<tr class="row-even"><td><p>System Mode</p></td>
<td><p>App follows device setting</p></td>
</tr>
</tbody>
</table>
</div>
<dl class="simple">
<dt>This is EXACTLY what themeMode controls:</dt><dd><p><strong>üëâ Which theme Flutter should use right now</strong></p>
</dd>
</dl>
<p><strong>‚úÖ Super short definition</strong></p>
<blockquote>
<div><p><strong>themeMode: decides which theme (Light, Dark, or System) is ACTIVE.</strong></p>
</div></blockquote>
<ul class="simple">
<li><p>theme = light design</p></li>
<li><p>darkTheme = dark design</p></li>
<li><p>themeMode = which one Flutter should use</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="themeanimationduration">
<h2>‚úÖ15.themeAnimationDuration:<a class="headerlink" href="#themeanimationduration" title="Link to this heading">¬∂</a></h2>
<p>This example lets you switch between <strong>light and dark themes</strong>, and the change happens <strong>slowly,</strong> so you can see the animation duration effect.</p>
<p><strong>‚úÖ Simple program to demonstrate themeAnimationDuration</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyAppState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyAppState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">toggleTheme</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// ‚úÖ Light Theme</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// ‚úÖ Dark Theme</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>

<span class="w">            </span><span class="c1">// üëá MAIN FOCUS</span>
<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">_themeMode</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS is the parameter we&#39;re demonstrating</span>
<span class="w">            </span><span class="nl">themeAnimationDuration:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Use builder to display UI</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;themeAnimationDuration Demo&#39;</span><span class="p">)),</span>
<span class="w">                    </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">toggleTheme</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Toggle Theme&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(),</span><span class="w"> </span><span class="c1">// Actual UI is built in MaterialApp.router builder</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does themeAnimationDuration do?</strong></p>
<p>This is the key line:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeAnimationDuration:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
</pre></div>
</div>
<p>It means:</p>
<blockquote>
<div><p><strong>When the theme changes, the transition should take 2 seconds instead of happening instantly.</strong></p>
</div></blockquote>
<dl class="simple">
<dt>So when you press <strong>‚ÄúToggle Theme‚Äù:</strong></dt><dd><ul class="simple">
<li><p>Without this ‚Üí instant change</p></li>
<li><p>With this ‚Üí smooth animated change in <strong>2 seconds</strong></p></li>
</ul>
</dd>
</dl>
<p>You can try other values too:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Duration</span><span class="p">(</span><span class="nl">milliseconds:</span><span class="w"> </span><span class="m">300</span><span class="p">)</span><span class="w">   </span><span class="c1">// fast</span>
<span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">         </span><span class="c1">// normal</span>
<span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w">         </span><span class="c1">// very slow</span>
</pre></div>
</div>
<p><strong>‚úÖ Super simple definition</strong></p>
<p><strong>themeAnimationDuration: controls how long the theme-change animation lasts.</strong></p>
<p>Think of it like:</p>
<blockquote>
<div><p>‚ÄúHow fast should my app fade from light ‚Üî dark?‚Äù</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="themeanimationcurve">
<h2>‚úÖ16.themeAnimationCurve:<a class="headerlink" href="#themeanimationcurve" title="Link to this heading">¬∂</a></h2>
<p>This example lets you toggle between <strong>light and dark themes</strong>, and the change uses a <strong>specific animation curve</strong> (not just duration).
So now you can see the animation <strong>style/shape</strong> of the transition.</p>
<p><strong>‚úÖ Simple program to demonstrate themeAnimationCurve</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyAppState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyAppState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Toggle theme on button press</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">toggleTheme</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Light + Dark themes</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>

<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">_themeMode</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// ‚úÖ Duration of animation</span>
<span class="w">            </span><span class="nl">themeAnimationDuration:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>

<span class="w">            </span><span class="c1">// üëá MAIN FOCUS: CURVE OF THE ANIMATION</span>
<span class="w">            </span><span class="nl">themeAnimationCurve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeInOut</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// UI is built here</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;themeAnimationCurve Demo&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">toggleTheme</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Toggle Theme&#39;</span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(),</span><span class="w"> </span><span class="c1">// UI is built by MaterialApp.builder</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s1">&#39;/&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does themeAnimationCurve do?</strong></p>
<p>This is the key line in the program:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeAnimationCurve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeInOut</span><span class="p">,</span>
</pre></div>
</div>
<p>It controls <strong>HOW the theme animation moves over time</strong>, not how long it takes.</p>
<p>The duration is defined here:</p>
<p>,. code-block:: dart</p>
<blockquote>
<div><p>themeAnimationDuration: const Duration(seconds: 2),</p>
</div></blockquote>
<p>And the shape of that animation is defined here:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeAnimationCurve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeInOut</span><span class="p">,</span>
</pre></div>
</div>
<dl class="simple">
<dt><strong>What Curves.easeInOut does:</strong></dt><dd><ul class="simple">
<li><p>Starts <strong>slowly</strong></p></li>
<li><p>Speeds up in the middle</p></li>
<li><p>Ends <strong>slowly</strong></p></li>
</ul>
</dd>
<dt>So when you press <strong>Toggle Theme:</strong></dt><dd><ul class="simple">
<li><p>The app does NOT change instantly</p></li>
<li><p>It fades with a <strong>smooth curve</strong></p></li>
</ul>
</dd>
</dl>
<p>You can try others too:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Curves</span><span class="p">.</span><span class="n">linear</span><span class="w">      </span><span class="c1">// straight, constant speed</span>
<span class="n">Curves</span><span class="p">.</span><span class="n">easeIn</span><span class="w">      </span><span class="c1">// slow -&gt; fast</span>
<span class="n">Curves</span><span class="p">.</span><span class="n">easeOut</span><span class="w">     </span><span class="c1">// fast -&gt; slow</span>
<span class="n">Curves</span><span class="p">.</span><span class="n">bounceIn</span><span class="w">    </span><span class="c1">// bounce at start</span>
<span class="n">Curves</span><span class="p">.</span><span class="n">elasticOut</span><span class="w">  </span><span class="c1">// rubber-band style</span>
</pre></div>
</div>
<p>Example change:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeAnimationCurve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">bounceInOut</span><span class="p">,</span>
</pre></div>
</div>
<p>Now your theme change will <strong>bounce üòÑ</strong></p>
<p><strong>‚úÖ Super simple definition (remember this)</strong></p>
<blockquote>
<div><p><strong>themeAnimationCurve controls the STYLE of the theme-change animation.</strong></p>
</div></blockquote>
<p>While:</p>
<blockquote>
<div><p>themeAnimationDuration = how long</p>
<p>themeAnimationCurve = how it moves</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="themeanimationstyle">
<h2>‚úÖ17.themeAnimationStyle:<a class="headerlink" href="#themeanimationstyle" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program to describe themeAnimationStyle</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyAppState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyAppState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="n">ThemeMode</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_toggleTheme</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">dark</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Normal light &amp; dark themes</span>
<span class="w">            </span><span class="nl">theme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">light</span><span class="p">(),</span>
<span class="w">            </span><span class="nl">darkTheme:</span><span class="w"> </span><span class="n">ThemeData</span><span class="p">.</span><span class="n">dark</span><span class="p">(),</span>
<span class="w">            </span><span class="nl">themeMode:</span><span class="w"> </span><span class="n">_themeMode</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá MAIN FOCUS: themeAnimationStyle</span>
<span class="w">            </span><span class="c1">// This overrides duration + curve of the theme change.</span>
<span class="w">            </span><span class="nl">themeAnimationStyle:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AnimationStyle</span><span class="p">(</span>
<span class="w">                </span><span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span><span class="w">      </span><span class="c1">// slow, so you can see it</span>
<span class="w">                </span><span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeInOutCubic</span><span class="p">,</span><span class="w">        </span><span class="c1">// smooth curve</span>
<span class="w">            </span><span class="p">),</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Simple UI: one page with a toggle button</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;themeAnimationStyle Demo&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_toggleTheme</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                </span><span class="n">_themeMode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">ThemeMode</span><span class="p">.</span><span class="n">light</span>
<span class="w">                                    </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Switch to DARK theme&#39;</span>
<span class="w">                                    </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Switch to LIGHT theme&#39;</span><span class="p">,</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// We don‚Äôt really use pages here; UI is built in MaterialApp.builder.</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">()),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">,)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Use uri instead of deprecated location</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">uri</span><span class="p">.</span><span class="n">path</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What is themeAnimationStyle actually doing?</strong></p>
<p>This line is the key:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeAnimationStyle:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">AnimationStyle</span><span class="p">(</span>
<span class="nl">duration:</span><span class="w"> </span><span class="n">Duration</span><span class="p">(</span><span class="nl">seconds:</span><span class="w"> </span><span class="m">2</span><span class="p">),</span>
<span class="nl">curve:</span><span class="w"> </span><span class="n">Curves</span><span class="p">.</span><span class="n">easeInOutCubic</span><span class="p">,</span>
<span class="p">),</span>
</pre></div>
</div>
<ul class="simple">
<li><p>AnimationStyle.duration ‚Üí how long the <strong>theme change animation</strong> takes</p></li>
<li><p>AnimationStyle.curve ‚Üí how the animation <strong>moves over time</strong></p></li>
</ul>
<p>It overrides themeAnimationDuration and themeAnimationCurve if you set them.</p>
<p>So when you press the <strong>Toggle</strong> button:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>_themeMode switches between ThemeMode.light and ThemeMode.dark</p></li>
<li><p>Flutter animates the change using:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>2-second duration</p></li>
<li><p>easeInOutCubic curve</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="3">
<li><p>You see the whole screen smoothly fade/animate between light and dark.</p></li>
</ol>
</div></blockquote>
<p>If you want <strong>no animation at all</strong>, you can do:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">themeAnimationStyle:</span><span class="w"> </span><span class="n">AnimationStyle</span><span class="p">.</span><span class="n">noAnimation</span><span class="p">,</span>
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="locale">
<h2>‚úÖ18.locale:<a class="headerlink" href="#locale" title="Link to this heading">¬∂</a></h2>
<p>Below is a <strong>working example</strong> using locale with <strong>Pashto</strong> (Locale(‚Äòps‚Äô)).
It still uses MaterialApp.router and flutter_localizations.</p>
<p>Make sure flutter_localizations is in your pubspec.yaml (as before):</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">dependencies</span><span class="p">:</span>
<span class="nt">flutter</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sdk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">flutter</span>
<span class="nt">flutter_localizations</span><span class="p">:</span>
<span class="w">    </span><span class="nt">sdk</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">flutter</span>
</pre></div>
</div>
<p><strong>‚úÖ Simple program to describe locale: in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_localizations/flutter_localizations.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyAppState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyAppState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span>
<span class="w">    </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="c1">// üëá Start in English</span>
<span class="n">Locale</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="n">_setEnglish</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">_setPashto</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">);</span><span class="w"> </span><span class="c1">// Pashto</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">}</span>

<span class="nd">@override</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">        </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">        </span><span class="c1">// Current app locale</span>
<span class="w">        </span><span class="nl">locale:</span><span class="w"> </span><span class="n">_locale</span><span class="p">,</span>

<span class="w">        </span><span class="c1">// We support English + Pashto</span>
<span class="w">        </span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">),</span>
<span class="w">        </span><span class="p">],</span>

<span class="w">        </span><span class="c1">// Provide Material / Widgets / Cupertino localizations</span>
<span class="w">        </span><span class="nl">localizationsDelegates:</span><span class="w"> </span><span class="n">GlobalMaterialLocalizations</span><span class="p">.</span><span class="n">delegates</span><span class="p">,</span>

<span class="w">        </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">        </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Simple UI to show locale effect</span>
<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">lang</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_locale</span><span class="p">.</span><span class="n">languageCode</span><span class="p">;</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                        </span><span class="n">lang</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;en&#39;</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Locale Demo (English / Pashto)&#39;</span>
<span class="w">                                        </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ÿØ ⁄òÿ®€ê ÿ®€êŸÑ⁄´Ÿá (ÿßŸÜ⁄´ŸÑ€åÿ≥Ÿä / Ÿæ⁄öÿ™Ÿà)&#39;</span><span class="p">,</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                    </span><span class="n">lang</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;en&#39;</span>
<span class="w">                                        </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Hello (English)&#39;</span>
<span class="w">                                        </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;ÿ≥ŸÑÿßŸÖ (Ÿæ⁄öÿ™Ÿà)&#39;</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">28</span><span class="p">),</span>
<span class="w">                                    </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">30</span><span class="p">),</span>
<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setEnglish</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Switch to English&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">10</span><span class="p">),</span>
<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setPashto</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Ÿæ⁄öÿ™Ÿà ÿ™Ÿá Ÿàÿß⁄ìŸàÿ¶&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                            </span><span class="p">],</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// UI is built in MaterialApp.router.builder</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">()),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span>
<span class="w">        </span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">,</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Use uri (new API, not deprecated)</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">uri</span><span class="p">.</span><span class="n">path</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>What you‚Äôll see</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Start: <strong>English</strong> ‚Äì ‚ÄúHello (English)‚Äù</p></li>
<li><p>Tap <strong>‚ÄúŸæ⁄öÿ™Ÿà ÿ™Ÿá Ÿàÿß⁄ìŸàÿ¶‚Äù</strong> ‚Üí locale becomes ps</p></li>
<li><p>AppBar title and main text show <strong>Pashto.</strong></p></li>
<li><p>Direction switches to <strong>right-to-left</strong> automatically for Pashto (if your Flutter version/localizations support it).</p></li>
</ul>
</div></blockquote>
<p>You can now reuse this pattern later for <strong>English + Pashto + any other language</strong> just by adding more Locale(‚Ä¶) entries and updating the text.</p>
</section>
<hr class="docutils" />
<section id="supportedlocales">
<h2>‚úÖ19.supportedLocales:<a class="headerlink" href="#supportedlocales" title="Link to this heading">¬∂</a></h2>
<p><strong>‚úÖ Simple program to describe supportedLocales in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_localizations/flutter_localizations.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyAppState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyAppState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// CURRENT LOCALE</span>
<span class="w">    </span><span class="n">Locale</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_setEnglish</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_setPashto</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_setSpanish</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá CURRENT SELECTED LANGUAGE</span>
<span class="w">            </span><span class="nl">locale:</span><span class="w"> </span><span class="n">_locale</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// ‚úÖ MAIN FOCUS: supportedLocales</span>
<span class="w">            </span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// English</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// Pashto</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// Spanish</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// Required for Material localized texts</span>
<span class="w">            </span><span class="nl">localizationsDelegates:</span><span class="w"> </span><span class="n">GlobalMaterialLocalizations</span><span class="p">.</span><span class="n">delegates</span><span class="p">,</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">lang</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_locale</span><span class="p">.</span><span class="n">languageCode</span><span class="p">;</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;supportedLocales Demo&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                    </span><span class="n">lang</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;en&#39;</span>
<span class="w">                                        </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Hello (English)&#39;</span>
<span class="w">                                        </span><span class="o">:</span><span class="w"> </span><span class="n">lang</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;ps&#39;</span>
<span class="w">                                            </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;ÿ≥ŸÑÿßŸÖ (Ÿæ⁄öÿ™Ÿà)&#39;</span>
<span class="w">                                            </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Hola (Spanish)&#39;</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">28</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">40</span><span class="p">),</span>

<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setEnglish</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;English&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>

<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setPashto</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Ÿæ⁄öÿ™Ÿà&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>

<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setSpanish</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Espa√±ol&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                            </span><span class="p">],</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">()),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span>
<span class="w">        </span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">uri</span><span class="p">.</span><span class="n">path</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does supportedLocales: actually do?</strong></p>
<p>This is the key part:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">),</span>
<span class="w">    </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">),</span>
<span class="p">],</span>
</pre></div>
</div>
<p>It tells Flutter:</p>
<p>‚ÄúMy app is able to support <strong>only these languages.</strong>‚Äù</p>
<p>If the user‚Äôs phone is set to:</p>
<blockquote>
<div><ul class="simple">
<li><p>French ‚Üí ‚ùå Not in list ‚Üí Flutter won‚Äôt use it</p></li>
<li><p>Pashto ‚Üí ‚úÖ In list ‚Üí Flutter will use Pashto</p></li>
<li><p>Spanish ‚Üí ‚úÖ In list ‚Üí Flutter will use Spanish</p></li>
</ul>
</div></blockquote>
<p>Think of it like a whitelist of languages your app allows.</p>
<p><strong>‚úÖ Very short definition (remember this)</strong></p>
<blockquote>
<div><p><strong>supportedLocales: = the list of languages your app officially supports</strong></p>
</div></blockquote>
<p>And:</p>
<blockquote>
<div><p><strong>locale: = the one currently in use</strong></p>
</div></blockquote>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>supportedLocales</p></td>
<td><p>All allowed languages</p></td>
</tr>
<tr class="row-odd"><td><p>locale</p></td>
<td><p>The selected language</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="localizationsdelegates">
<h2>‚úÖ20.localizationsDelegates:<a class="headerlink" href="#localizationsdelegates" title="Link to this heading">¬∂</a></h2>
<p>This example proves one thing:</p>
<blockquote>
<div><p><strong>localizationsDelegates is what provides localized strings (like ‚ÄúBack‚Äù, dates, numbers, text direction, etc.) for the selected locale.</strong></p>
</div></blockquote>
<p>Without this, you will get the red error you saw before:
<strong>‚ÄúNo MaterialLocalizations found‚Äù</strong></p>
<p>This example uses:</p>
<blockquote>
<div><p>‚úÖ English</p>
<p>‚úÖ Pashto (Ÿæ⁄öÿ™Ÿà)</p>
<p>‚úÖ Spanish</p>
</div></blockquote>
<p><strong>‚úÖ Simple program to describe localizationsDelegates in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter_localizations/flutter_localizations.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="cm">/* ================= APP ================= */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_MyAppState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_MyAppState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">MyApp</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MyRouterDelegate</span><span class="p">();</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">MyRouteInformationParser</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">MyRouteInformationParser</span><span class="p">();</span>

<span class="w">    </span><span class="n">Locale</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_setEnglish</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_setPashto</span><span class="p">()</span><span class="w">  </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">));</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_setSpanish</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">));</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Current app language</span>
<span class="w">            </span><span class="nl">locale:</span><span class="w"> </span><span class="n">_locale</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Languages app supports</span>
<span class="w">            </span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// ‚úÖ MAIN FOCUS: THIS PROVIDES TRANSLATIONS</span>
<span class="w">            </span><span class="nl">localizationsDelegates:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">GlobalMaterialLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span><span class="w"> </span><span class="c1">// Material widgets</span>
<span class="w">                </span><span class="n">GlobalWidgetsLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span><span class="w">  </span><span class="c1">// Text direction (LTR/RTL)</span>
<span class="w">                </span><span class="n">GlobalCupertinoLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span><span class="w"> </span><span class="c1">// iOS style widgets</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_routerDelegate</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routeInformationParser:</span><span class="w"> </span><span class="n">_routeInformationParser</span><span class="p">,</span>

<span class="w">            </span><span class="nl">builder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">child</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="kd">final</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_locale</span><span class="p">.</span><span class="n">languageCode</span><span class="p">;</span>

<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;localizationsDelegates Demo&#39;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                    </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                            </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                    </span><span class="n">code</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;en&#39;</span>
<span class="w">                                        </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;Hello (English)&#39;</span>
<span class="w">                                        </span><span class="o">:</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;ps&#39;</span>
<span class="w">                                            </span><span class="o">?</span><span class="w"> </span><span class="s1">&#39;ÿ≥ŸÑÿßŸÖ (Ÿæ⁄öÿ™Ÿà)&#39;</span>
<span class="w">                                            </span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Hola (Spanish)&#39;</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">26</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">40</span><span class="p">),</span>

<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setEnglish</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;English&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>

<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setPashto</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Ÿæ⁄öÿ™Ÿà&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                                </span><span class="k">const</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">8</span><span class="p">),</span>

<span class="w">                                </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_setSpanish</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Espa√±ol&#39;</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                            </span><span class="p">],</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTER DELEGATE ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span><span class="n">MaterialPage</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">SizedBox</span><span class="p">())],</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="cm">/* ============ ROUTE PARSER ============ */</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyRouteInformationParser</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouteInformationParser</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">parseRouteInformation</span><span class="p">(</span><span class="n">RouteInformation</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">,)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">routeInformation</span><span class="p">.</span><span class="n">uri</span><span class="p">.</span><span class="n">path</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>üß† What does localizationsDelegates REALLY do?</strong></p>
<p>This is the <strong>most important part:</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">localizationsDelegates:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="n">GlobalMaterialLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span>
<span class="w">    </span><span class="n">GlobalWidgetsLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span>
<span class="w">    </span><span class="n">GlobalCupertinoLocalizations</span><span class="p">.</span><span class="n">delegate</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>
</div>
<p>This tells Flutter:</p>
<blockquote>
<div><p>‚ÄúHere are the objects that provide translations and regional settings</p>
<p>for Material, Widgets, and iOS (Cupertino) components.‚Äù</p>
</div></blockquote>
<p>Without this:</p>
<blockquote>
<div><p>‚ùå You get crash</p>
<p>‚ùå No RTL support for Pashto/Arabic</p>
<p>‚ùå No translated system labels (Back, Cancel, etc.)</p>
</div></blockquote>
<p>With this:</p>
<blockquote>
<div><p>‚úÖ Proper RTL for Pashto</p>
<p>‚úÖ Normal English / Spanish</p>
<p>‚úÖ No red error</p>
</div></blockquote>
<p><strong>‚úÖ Super simple meaning (remember forever)</strong></p>
<blockquote>
<div><p><strong>localizationsDelegates = the translation engine of your app</strong></p>
</div></blockquote>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Part</p></th>
<th class="head"><p>What it gives you</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>GlobalMaterialLocalizations</p></td>
<td><p>Buttons like Back, Close, etc</p></td>
</tr>
<tr class="row-odd"><td><p>GlobalWidgetsLocalizations</p></td>
<td><p>RTL / LTR text direction</p></td>
</tr>
<tr class="row-even"><td><p>GlobalCupertinoLocalizations</p></td>
<td><p>iOS-style text</p></td>
</tr>
</tbody>
</table>
</div>
<p><strong>‚ö†Ô∏è Important rule</strong></p>
<p>You almost ALWAYS use:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">localizationsDelegates:</span><span class="w"> </span><span class="n">GlobalMaterialLocalizations</span><span class="p">.</span><span class="n">delegates</span><span class="p">,</span>
</pre></div>
</div>
<p>or the full version I gave you.</p>
<p>Without it ‚Üí your app WILL crash when you change locale.</p>
</section>
<hr class="docutils" />
<section id="localeresolutioncallback">
<h2>‚úÖ21.localeResolutionCallback:<a class="headerlink" href="#localeresolutioncallback" title="Link to this heading">¬∂</a></h2>
<p>Here is a <strong>very simple Flutter example</strong> that shows how to use the <strong>localeResolutionCallback</strong> parameter in MaterialApp.router.</p>
<p>This callback decides <strong>which language (locale) your app should actually use,</strong> based on the device locale and the supported locales in your app.</p>
<p><strong>‚úÖ What this example does</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>The phone language might be: <strong>Spanish, Pashto, Arabic, etc.</strong></p></li>
<li><p>We tell Flutter:</p></li>
<li><p>If the device language is Spanish (es), use Spanish</p></li>
<li><p>Otherwise, use <strong>English (en)</strong></p></li>
<li><p>It prints the decision in the console so you can see what happens</p></li>
</ul>
</div></blockquote>
<p><strong>‚úÖ Simple program: localeResolutionCallback in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// A very small RouterConfig just for demo</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// List of supported languages in this app</span>
<span class="w">            </span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ES&#39;</span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT</span>
<span class="w">            </span><span class="nl">localeResolutionCallback:</span><span class="w"> </span><span class="p">(</span><span class="n">Locale</span><span class="o">?</span><span class="w"> </span><span class="n">deviceLocale</span><span class="p">,</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Locale</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supportedLocales</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Device locale is: </span><span class="si">$</span><span class="n">deviceLocale</span><span class="s1">&#39;</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// If device language is Spanish, use Spanish</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deviceLocale</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">deviceLocale</span><span class="p">.</span><span class="n">languageCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Using Spanish&#39;</span><span class="p">);</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ES&#39;</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="c1">// Otherwise, use English as default</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="s1">&#39;Using English&#39;</span><span class="p">);</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- SIMPLE ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                </span><span class="s2">&quot;Hello from MaterialApp.router()&quot;</span><span class="p">,</span>
<span class="w">                                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">22</span><span class="p">),</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nl">onPopPage:</span><span class="w"> </span><span class="p">(</span><span class="n">route</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">route</span><span class="p">.</span><span class="n">didPop</span><span class="p">(</span><span class="n">result</span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ In simple words</strong></p>
<p>localeResolutionCallback means:</p>
<blockquote>
<div><p>‚ÄúFlutter, when the app starts, check the phone‚Äôs language. Then I will decide which language my app should use.‚Äù</p>
</div></blockquote>
<p>Example:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Phone Language</p></th>
<th class="head"><p>App Language Used</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Spanish</p></td>
<td><p>Spanish ‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Pashto</p></td>
<td><p>English (fallback) ‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Arabic</p></td>
<td><p>English (fallback) ‚úÖ</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="localelistresolutioncallback">
<h2>‚úÖ22.localeListResolutionCallback:<a class="headerlink" href="#localelistresolutioncallback" title="Link to this heading">¬∂</a></h2>
<p>This callback is used when the device sends <strong>a list of preferred languages</strong> (not just one). You decide which one your app will use.</p>
<p><strong>‚úÖ What this example does</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Your phone may send a list like: [es_ES, ps_AF, en_US]</p></li>
<li><p>The app:</p></li>
<li><p>‚úîÔ∏è Uses <strong>Pashto</strong> if found</p></li>
<li><p>‚úîÔ∏è Else uses <strong>Spanish</strong> if found</p></li>
<li><p>‚úîÔ∏è Else uses <strong>English by default</strong></p></li>
<li><p>It prints the decision in the console</p></li>
</ul>
</div></blockquote>
<p><strong>‚úÖ Simple program: localeListResolutionCallback in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router for demo</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Languages supported by this app</span>
<span class="w">            </span><span class="nl">supportedLocales:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ES&#39;</span><span class="p">),</span>
<span class="w">                </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;AF&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">// Pashto</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT</span>
<span class="w">            </span><span class="nl">localeListResolutionCallback:</span>
<span class="w">                </span><span class="p">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">Locale</span><span class="o">&gt;?</span><span class="w"> </span><span class="n">deviceLocales</span><span class="p">,</span><span class="w"> </span><span class="n">Iterable</span><span class="o">&lt;</span><span class="n">Locale</span><span class="o">&gt;</span><span class="w"> </span><span class="n">supportedLocales</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Device locales list: </span><span class="si">$</span><span class="n">deviceLocales</span><span class="s2">&quot;</span><span class="p">);</span>

<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">deviceLocales</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Locale</span><span class="w"> </span><span class="n">locale</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">deviceLocales</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                        </span><span class="c1">// If Pashto is found, use it</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">locale</span><span class="p">.</span><span class="n">languageCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;ps&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Using Pashto&quot;</span><span class="p">);</span>
<span class="w">                            </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;ps&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;AF&#39;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">}</span>

<span class="w">                        </span><span class="c1">// If Spanish is found, use it</span>
<span class="w">                        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">locale</span><span class="p">.</span><span class="n">languageCode</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s1">&#39;es&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                            </span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Using Spanish&quot;</span><span class="p">);</span>
<span class="w">                            </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;es&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ES&#39;</span><span class="p">);</span>
<span class="w">                        </span><span class="p">}</span>
<span class="w">                    </span><span class="p">}</span>
<span class="w">                </span><span class="p">}</span>

<span class="w">                </span><span class="c1">// Default to English</span>
<span class="w">                </span><span class="n">print</span><span class="p">(</span><span class="s2">&quot;Using English&quot;</span><span class="p">);</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Locale</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;US&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- SIMPLE ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                </span><span class="s2">&quot;MaterialApp.router</span><span class="se">\n</span><span class="s2">localeListResolutionCallback&quot;</span><span class="p">,</span>
<span class="w">                                </span><span class="nl">textAlign:</span><span class="w"> </span><span class="n">TextAlign</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nl">onPopPage:</span><span class="w"> </span><span class="p">(</span><span class="n">route</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">route</span><span class="p">.</span><span class="n">didPop</span><span class="p">(</span><span class="n">result</span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ Very simple explanation</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Callback</p></th>
<th class="head"><p>What it receives</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>When to use</p></td>
<td><p>localeResolutionCallback</p></td>
</tr>
<tr class="row-odd"><td><p>one Locale</p></td>
<td><p>When device gives one language</p></td>
</tr>
<tr class="row-even"><td><p>localeListResolutionCallback</p></td>
<td><p>list of Locales</p></td>
</tr>
</tbody>
</table>
</div>
<p>When device gives multiple languages</p>
<p>localeListResolutionCallback =</p>
<blockquote>
<div><p>‚ÄúFlutter, here is a list of languages my user prefers. You choose the best one.‚Äù</p>
</div></blockquote>
<p>Example device language list:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ps_AF</span><span class="p">,</span><span class="w"> </span><span class="n">en_US</span><span class="p">,</span><span class="w"> </span><span class="n">es_ES</span><span class="p">]</span>
</pre></div>
</div>
<p>Your app chooses: <strong>‚úÖ Pashto</strong></p>
</section>
<hr class="docutils" />
<section id="debugshowcheckedmodebanner">
<h2>‚úÖ23.debugShowCheckedModeBanner:<a class="headerlink" href="#debugshowcheckedmodebanner" title="Link to this heading">¬∂</a></h2>
<p><strong>üîπ What is debugShowCheckedModeBanner?</strong></p>
<p>When you run a Flutter app in <strong>debug mode</strong>, a red label appears in the top-right corner that says:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>DEBUG
</pre></div>
</div>
<p>That red label is called the <strong>debug banner.</strong></p>
<p>The <strong>debugShowCheckedModeBanner</strong> parameter controls <strong>whether that banner is shown or hidden.</strong></p>
<p><strong>‚úÖ Example</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">    </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nl">home:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Hello&#39;</span><span class="p">)),</span>
<span class="w">    </span><span class="p">),</span>
<span class="p">);</span>
</pre></div>
</div>
<p>If you write:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</pre></div>
</div>
<p>‚úÖ The red <strong>DEBUG</strong> banner will <strong>disappear.</strong></p>
<p>If you write:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</pre></div>
</div>
<p>‚úÖ The red <strong>DEBUG</strong> banner will <strong>appear.</strong></p>
<p><strong>üß† In very simple words</strong></p>
<p>debugShowCheckedModeBanner means:</p>
<blockquote>
<div><p>‚ÄúFlutter, should I show the red DEBUG label or not?‚Äù</p>
</div></blockquote>
<p><strong>Why do developers turn it OFF?</strong></p>
<p>Because before publishing an app, they want the screen to look clean and professional:</p>
<blockquote>
<div><ul class="simple">
<li><p>‚ùå No big DEBUG label</p></li>
<li><p>‚úÖ Clean UI for users</p></li>
</ul>
</div></blockquote>
<p>So usually developers write:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</pre></div>
</div>
<p><strong>Important</strong></p>
<dl class="simple">
<dt>This banner:</dt><dd><ul class="simple">
<li><p>Only appears in <strong>debug mode</strong></p></li>
<li><p>Does <strong>NOT</strong> appear in release mode</p></li>
<li><p>Does <strong>NOT</strong> affect performance</p></li>
</ul>
</dd>
</dl>
</section>
<hr class="docutils" />
<section id="debugshowmaterialgrid">
<h2>‚úÖ24.debugShowMaterialGrid:<a class="headerlink" href="#debugshowmaterialgrid" title="Link to this heading">¬∂</a></h2>
<p>Here is a <strong>very simple Flutter example</strong> that demonstrates the</p>
<p><strong>debugShowMaterialGrid</strong> parameter in <strong>MaterialApp.router.</strong></p>
<p>This parameter is used <strong>only in debug mode</strong> to show a layout grid on the screen, which helps you align widgets correctly (like a designer‚Äôs grid).</p>
<p><strong>‚úÖ What this example shows</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>A grid overlay</strong> appears on the screen</p></li>
<li><p>Helps you see spacing, margins &amp; alignment</p></li>
<li><p>Only works in <strong>debug mode</strong> (when using flutter run)</p></li>
</ul>
</div></blockquote>
<p><strong>‚úÖ Simple Program: debugShowMaterialGrid in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router for the demo</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">debugShowCheckedModeBanner:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT</span>
<span class="w">            </span><span class="nl">debugShowMaterialGrid:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- SIMPLE ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Material Grid Example&quot;</span><span class="p">)),</span>
<span class="w">                        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                </span><span class="s2">&quot;debugShowMaterialGrid = true&quot;</span><span class="p">,</span>
<span class="w">                                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nl">onPopPage:</span><span class="w"> </span><span class="p">(</span><span class="n">route</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">route</span><span class="p">.</span><span class="n">didPop</span><span class="p">(</span><span class="n">result</span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ What you will see</strong></p>
<p>When you run the app in <strong>debug mode</strong>, a <strong>grid like this</strong> will appear:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢
‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢
‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢<span class="w"> </span>‚ñ¢
</pre></div>
</div>
<p>It helps in:</p>
<p>‚úÖ Checking widget alignment</p>
<p>‚úÖ Checking padding / margins</p>
<p>‚úÖ UI design fixing</p>
<p>Turn it OFF by changing:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="nl">debugShowMaterialGrid:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</pre></div>
</div>
<p><strong>‚úÖ In simple words</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>true</p></td>
<td><p>Shows layout grid on screen ‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>false</p></td>
<td><p>No grid (normal UI) ‚úÖ</p></td>
</tr>
</tbody>
</table>
</div>
<p>debugShowMaterialGrid =</p>
<blockquote>
<div><p>‚ÄúFlutter, show me your layout lines so I can design better.‚Äù</p>
</div></blockquote>
</section>
<hr class="docutils" />
<section id="showperformanceoverlay">
<h2>‚úÖ25.showPerformanceOverlay:<a class="headerlink" href="#showperformanceoverlay" title="Link to this heading">¬∂</a></h2>
<p>Here‚Äôs a <strong>very simple Flutter app</strong> that demonstrates</p>
<p><strong>showPerformanceOverlay **in **MaterialApp.router.</strong></p>
<p>This overlay shows <strong>performance graphs</strong> (GPU &amp; UI usage) on the screen, so you can see how smooth (or slow) your app is while running.</p>
<p><strong>‚úÖ What this example does</strong></p>
<blockquote>
<div><ul class="simple">
<li><p>Shows <strong>two small graphs at the top:</strong></p></li>
<li><p><strong>UI Thread (top)</strong></p></li>
<li><p><strong>GPU Thread (bottom)</strong></p></li>
<li><p>Helps you check:</p></li>
<li><p>Frame drops</p></li>
<li><p>Jank / lag</p></li>
<li><p>Animation performance</p></li>
<li><p>Works in <strong>debug mode</strong></p></li>
</ul>
</div></blockquote>
<p><strong>‚úÖ Simple program: showPerformanceOverlay in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router for the demo</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// Shows the performance overlay</span>
<span class="w">            </span><span class="nl">showPerformanceOverlay:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- SIMPLE ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Performance Overlay&quot;</span><span class="p">)),</span>
<span class="w">                        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                                </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                        </span><span class="s2">&quot;showPerformanceOverlay = true&quot;</span><span class="p">,</span>
<span class="w">                                        </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                                    </span><span class="p">),</span>
<span class="w">                                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                                    </span><span class="n">CircularProgressIndicator</span><span class="p">(),</span>
<span class="w">                                </span><span class="p">],</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// ‚úÖ NEW and CORRECT method (replaces onPopPage)</span>
<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Page removed: </span><span class="si">${</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ What you will see on top</strong></p>
<p>Two small bars like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>UI:<span class="w">  </span>‚ñá‚ñÖ‚ñá‚ñÇ‚ñá‚ñÖ
GPU:<span class="w"> </span>‚ñÖ‚ñá‚ñÇ‚ñá‚ñÖ‚ñÇ
</pre></div>
</div>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bar</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Top bar</p></td>
<td><p>UI rendering time</p></td>
</tr>
<tr class="row-odd"><td><p>Bottom bar</p></td>
<td><p>GPU rendering time</p></td>
</tr>
</tbody>
</table>
</div>
<p>If bars go <strong>above the line</strong> ‚Üí ‚ö†Ô∏è your app is becoming slow.</p>
<p><strong>‚úÖ In very simple words</strong></p>
<p>showPerformanceOverlay =</p>
<blockquote>
<div><p>‚ÄúFlutter, show me how fast or slow my app is running.‚Äù</p>
</div></blockquote>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>true</p></td>
<td><p>Shows performance graph ‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>false</p></td>
<td><p>Normal mode ‚úÖ</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="showsemanticsdebugger">
<h2>‚úÖ26.showSemanticsDebugger:<a class="headerlink" href="#showsemanticsdebugger" title="Link to this heading">¬∂</a></h2>
<p>Here is a <strong>very simple &amp; updated Flutter program</strong> that demonstrates</p>
<p>the <strong>showSemanticsDebugger</strong> parameter in <strong>MaterialApp.router</strong> ‚Äî using the <strong>new API (onDidRemovePage)</strong> instead of the deprecated onPopPage.</p>
<p>showSemanticsDebugger is mainly used for <strong>accessibility debugging</strong> (screen readers, talkback, etc.).</p>
<p><strong>‚úÖ Simple program: showSemanticsDebugger in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router for demo</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT</span>
<span class="w">            </span><span class="nl">showSemanticsDebugger:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- SIMPLE ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>

<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Semantics Debugger&quot;</span><span class="p">)),</span>
<span class="w">                        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Column</span><span class="p">(</span>
<span class="w">                                </span><span class="nl">mainAxisAlignment:</span><span class="w"> </span><span class="n">MainAxisAlignment</span><span class="p">.</span><span class="n">center</span><span class="p">,</span>
<span class="w">                                </span><span class="nl">children:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                                    </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                        </span><span class="s2">&quot;showSemanticsDebugger = true&quot;</span><span class="p">,</span>
<span class="w">                                        </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                                    </span><span class="p">),</span>
<span class="w">                                    </span><span class="n">SizedBox</span><span class="p">(</span><span class="nl">height:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                                    </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                                        </span><span class="nl">onPressed:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Example Button&quot;</span><span class="p">),</span>
<span class="w">                                    </span><span class="p">),</span>
<span class="w">                                </span><span class="p">],</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// ‚úÖ New API instead of onPopPage</span>
<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Page removed: </span><span class="si">${</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ What you will see on the screen</strong></p>
<p>When this runs in <strong>debug mode</strong>, you‚Äôll see:</p>
<blockquote>
<div><ul class="simple">
<li><p>Yellow / green outlines on widgets</p></li>
<li><p>Text showing things like:</p></li>
<li><p>Button</p></li>
<li><p>Label</p></li>
<li><p>Text</p></li>
<li><p>Boxes around UI elements</p></li>
</ul>
</div></blockquote>
<p>This is Flutter showing <strong>accessibility information.</strong></p>
<p>This is useful for:</p>
<blockquote>
<div><p>‚úÖ Screen readers</p>
<p>‚úÖ Blind/low-vision users</p>
<p>‚úÖ Accessibility testing</p>
<p>‚úÖ Improving UX</p>
</div></blockquote>
<p><strong>‚úÖ In very simple words</strong></p>
<p>showSemanticsDebugger = true means:</p>
<blockquote>
<div><p>‚ÄúFlutter, show me how screen readers see my app.‚Äù</p>
</div></blockquote>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>true</p></td>
<td><p>Shows accessibility info on UI ‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>false</p></td>
<td><p>Normal screen ‚úÖ</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="shortcuts">
<h2>‚úÖ27.shortcuts:<a class="headerlink" href="#shortcuts" title="Link to this heading">¬∂</a></h2>
<p>Here is a <strong>very simple Flutter example</strong> that demonstrates the
<strong>shortcuts</strong> parameter in <strong>MaterialApp.router.</strong></p>
<p>The shortcuts parameter lets you define <strong>keyboard shortcut keys</strong> (for hardware keyboard: laptop, desktop, tablet with keyboard).</p>
<p>In this example:</p>
<blockquote>
<div><ul class="simple">
<li><p>Press <strong>Ctrl + B</strong> (or Cmd + B on Mac)</p></li>
<li><p>The text on the screen changes</p></li>
</ul>
</div></blockquote>
<p><strong>‚úÖ Simple program: shortcuts in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/services.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router for demo</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT</span>
<span class="w">            </span><span class="nl">shortcuts:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">LogicalKeySet</span><span class="p">,</span><span class="w"> </span><span class="n">Intent</span><span class="o">&gt;</span><span class="p">{</span>
<span class="w">                </span><span class="c1">// When user presses Ctrl + B</span>
<span class="w">                </span><span class="n">LogicalKeySet</span><span class="p">(</span><span class="n">LogicalKeyboardKey</span><span class="p">.</span><span class="n">control</span><span class="p">,</span><span class="w"> </span><span class="n">LogicalKeyboardKey</span><span class="p">.</span><span class="n">keyB</span><span class="p">)</span><span class="o">:</span>
<span class="w">                    </span><span class="k">const</span><span class="w"> </span><span class="n">ChangeTextIntent</span><span class="p">(),</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ----------- INTENT (WHAT TO DO) ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ChangeTextIntent</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Intent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">ChangeTextIntent</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// ----------- SIMPLE ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_changed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Actions</span><span class="p">(</span>
<span class="w">        </span><span class="nl">actions:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="n">Action</span><span class="o">&lt;</span><span class="n">Intent</span><span class="o">&gt;&gt;</span><span class="p">{</span>
<span class="w">            </span><span class="nl">ChangeTextIntent:</span><span class="w"> </span><span class="n">CallbackAction</span><span class="o">&lt;</span><span class="n">ChangeTextIntent</span><span class="o">&gt;</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onInvoke:</span><span class="w"> </span><span class="p">(</span><span class="n">intent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">_changed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">_changed</span><span class="p">;</span>
<span class="w">                    </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">                </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">                </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">child:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Shortcuts Example&quot;</span><span class="p">)),</span>
<span class="w">                            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                    </span><span class="n">_changed</span>
<span class="w">                                        </span><span class="o">?</span><span class="w"> </span><span class="s2">&quot;You pressed Ctrl + B ‚úÖ&quot;</span>
<span class="w">                                        </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Press Ctrl + B to change this text&quot;</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">20</span><span class="p">),</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">],</span>

<span class="w">                </span><span class="c1">// ‚úÖ New API instead of onPopPage</span>
<span class="w">                </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Page removed: </span><span class="si">${</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ How to test it</strong></p>
<p>Run your app and press:</p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Windows / Linux:</strong> Ctrl + B</p></li>
<li><p><strong>Mac: ‚åò</strong> (Command) + B</p></li>
</ul>
</div></blockquote>
<p>You will see the text change on the screen.</p>
<p><strong>‚úÖ In very simple words</strong></p>
<p>shortcuts means:</p>
<p>‚ÄúFlutter, when the user presses these keys, do this action.‚Äù</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Part</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>LogicalKeySet(‚Ä¶)</p></td>
<td><p>Which keys</p></td>
</tr>
<tr class="row-odd"><td><p>Intent</p></td>
<td><p>What it means</p></td>
</tr>
<tr class="row-even"><td><p>Action</p></td>
<td><p>What to do</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="actions">
<h2>‚úÖ28.actions:<a class="headerlink" href="#actions" title="Link to this heading">¬∂</a></h2>
<p>Here is a <strong>very simple Flutter program</strong> that demonstrates the
<strong>actions parameter in MaterialApp.router.</strong></p>
<p>The actions parameter tells Flutter <strong>what to do when an Intent happens</strong> (for example from a keyboard shortcut, button, or gesture).</p>
<p>In this example:</p>
<blockquote>
<div><p>‚úÖ Press <strong>Ctrl + C **(or **Cmd + C</strong> on Mac)</p>
<p>‚úÖ The text on the screen changes</p>
</div></blockquote>
<p><strong>‚úÖ Simple program: actions in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/services.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="nd">@override</span>
<span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá SHORTCUT (Ctrl + C)</span>
<span class="w">            </span><span class="nl">shortcuts:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">LogicalKeySet</span><span class="p">,</span><span class="w"> </span><span class="n">Intent</span><span class="o">&gt;</span><span class="p">{</span>
<span class="w">                </span><span class="n">LogicalKeySet</span><span class="p">(</span><span class="n">LogicalKeyboardKey</span><span class="p">.</span><span class="n">control</span><span class="p">,</span><span class="w"> </span><span class="n">LogicalKeyboardKey</span><span class="p">.</span><span class="n">keyC</span><span class="p">)</span><span class="o">:</span>
<span class="w">                </span><span class="n">ChangeColorIntent</span><span class="p">(),</span>
<span class="w">            </span><span class="p">},</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT: actions</span>
<span class="w">            </span><span class="nl">actions:</span><span class="w"> </span><span class="o">&lt;</span><span class="n">Type</span><span class="p">,</span><span class="w"> </span><span class="n">Action</span><span class="o">&lt;</span><span class="n">Intent</span><span class="o">&gt;&gt;</span><span class="p">{</span>
<span class="w">                </span><span class="nl">ChangeColorIntent:</span><span class="w"> </span><span class="n">ChangeColorAction</span><span class="p">(),</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------ INTENT ------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ChangeColorIntent</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Intent</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">ChangeColorIntent</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// ------------ ACTION ------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ChangeColorAction</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Action</span><span class="o">&lt;</span><span class="n">ChangeColorIntent</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kt">Object</span><span class="o">?</span><span class="w"> </span><span class="n">invoke</span><span class="p">(</span><span class="n">ChangeColorIntent</span><span class="w"> </span><span class="n">intent</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_SimpleRouterDelegate</span><span class="p">.</span><span class="n">changeColor</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ------------ ROUTER ------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isRed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">changeColor</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_isRed</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">_isRed</span><span class="p">;</span>
<span class="w">        </span><span class="n">_instance</span><span class="o">?</span><span class="p">.</span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="o">?</span><span class="w"> </span><span class="n">_instance</span><span class="p">;</span>

<span class="w">    </span><span class="n">_SimpleRouterDelegate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Actions Example&quot;</span><span class="p">)),</span>
<span class="w">                        </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                            </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                                </span><span class="s2">&quot;Press Ctrl + C&quot;</span><span class="p">,</span>
<span class="w">                                </span><span class="nl">style:</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span>
<span class="w">                                    </span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">22</span><span class="p">,</span>
<span class="w">                                    </span><span class="nl">color:</span><span class="w"> </span><span class="n">_isRed</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">red</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Colors</span><span class="p">.</span><span class="n">black</span><span class="p">,</span>
<span class="w">                                </span><span class="p">),</span>
<span class="w">                            </span><span class="p">),</span>
<span class="w">                        </span><span class="p">),</span>
<span class="w">                    </span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// ‚úÖ New API instead of onPopPage</span>
<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Page removed: </span><span class="si">${</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ What is happening (very simple)</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Part</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Intent</p></td>
<td><p>What the user wants</p></td>
</tr>
<tr class="row-odd"><td><p>Action</p></td>
<td><p>What the app does</p></td>
</tr>
<tr class="row-even"><td><p>actions:</p></td>
<td><p>Connects intent ‚ûú action</p></td>
</tr>
</tbody>
</table>
</div>
<p>actions = ‚ÄúWhen this thing happens, do this job‚Äù</p>
<p><strong>‚úÖ Press the keys</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><strong>Windows / Linux:</strong> Ctrl + C</p></li>
<li><p><strong>Mac:</strong> ‚åò + C</p></li>
</ul>
</div></blockquote>
<dl class="simple">
<dt>Text color will change:</dt><dd><ul class="simple">
<li><p>Black ‚ûú Red ‚ûú Black ‚ûú Red ‚Ä¶</p></li>
</ul>
</dd>
</dl>
</section>
<hr class="docutils" />
<section id="restorationscopeid">
<h2>‚úÖ29.restorationScopeId:<a class="headerlink" href="#restorationscopeid" title="Link to this heading">¬∂</a></h2>
<p>Here is a very <strong>simple Flutter program</strong> that demonstrates the
<strong>restorationScopeId **parameter in **MaterialApp.router.</strong></p>
<p>This feature lets Flutter <strong>restore the app‚Äôs state automatically</strong> (like text, scroll position, counters) after the app is closed and reopened or killed by the OS.</p>
<p>In this example:</p>
<blockquote>
<div><p>‚úÖ A counter value is <strong>saved automatically</strong></p>
<p>‚úÖ Close the app</p>
<p>‚úÖ Open it again ‚Üí the counter is <strong>restored</strong></p>
</div></blockquote>
<p><strong>‚úÖ Simple program: restorationScopeId in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// ‚úÖ ONLY ONE restorationScopeId</span>
<span class="w">            </span><span class="nl">restorationScopeId:</span><span class="w"> </span><span class="s1">&#39;root&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>
<span class="w">            </span><span class="nl">restorationScopeId:</span><span class="w"> </span><span class="s1">&#39;navigator&#39;</span><span class="p">,</span><span class="w"> </span><span class="c1">// child scope</span>

<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">restorationId:</span><span class="w"> </span><span class="s1">&#39;home_page&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">CounterPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// New API instead of onPopPage</span>
<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Page removed: </span><span class="si">${</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="c1">// ---------------- COUNTER PAGE ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">CounterPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatefulWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">CounterPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">State</span><span class="o">&lt;</span><span class="n">CounterPage</span><span class="o">&gt;</span><span class="w"> </span><span class="n">createState</span><span class="p">()</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">_CounterPageState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_CounterPageState</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">State</span><span class="o">&lt;</span><span class="n">CounterPage</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">RestorationMixin</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">RestorableInt</span><span class="w"> </span><span class="n">_counter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RestorableInt</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kt">String</span><span class="o">?</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">restorationId</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="s1">&#39;counter_page&#39;</span><span class="p">;</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">restoreState</span><span class="p">(</span><span class="n">RestorationBucket</span><span class="o">?</span><span class="w"> </span><span class="n">oldBucket</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">initialRestore</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">registerForRestoration</span><span class="p">(</span><span class="n">_counter</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;counter_value&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">_increment</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">setState</span><span class="p">(()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_counter</span><span class="p">.</span><span class="n">value</span><span class="o">++</span><span class="p">;</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;Restoration Example&#39;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span>
<span class="w">                    </span><span class="s1">&#39;Counter: </span><span class="si">${</span><span class="n">_counter</span><span class="p">.</span><span class="n">value</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="w">                    </span><span class="nl">style:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TextStyle</span><span class="p">(</span><span class="nl">fontSize:</span><span class="w"> </span><span class="m">30</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">            </span><span class="nl">floatingActionButton:</span><span class="w"> </span><span class="n">FloatingActionButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">_increment</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Icon</span><span class="p">(</span><span class="n">Icons</span><span class="p">.</span><span class="n">add</span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ Why this now works</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Location</p></th>
<th class="head"><p>What it does</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>MaterialApp.router</p></td>
<td><p>Defines root restoration ID</p></td>
</tr>
<tr class="row-odd"><td><p>Navigator</p></td>
<td><p>Defines child restoration area</p></td>
</tr>
<tr class="row-even"><td><p>MaterialPage</p></td>
<td><p>Has page restoration ID</p></td>
</tr>
<tr class="row-odd"><td><p>RestorableInt</p></td>
<td><p>Saves counter value</p></td>
</tr>
</tbody>
</table>
</div>
<p>Now your app can:</p>
<blockquote>
<div><p>‚úÖ Close</p>
<p>‚úÖ Reopen</p>
<p>‚úÖ Restore previous counter</p>
</div></blockquote>
<p>üß† In simple words (again)</p>
<p>restorationScopeId is like giving a memory name to your app.</p>
<p>Flutter: ‚ÄúRemember everything under this name.‚Äù</p>
<p>Only <strong>one name per widget</strong> is allowed.</p>
</section>
<hr class="docutils" />
<section id="scrollbehavior">
<h2>‚úÖ30.scrollBehavior:<a class="headerlink" href="#scrollbehavior" title="Link to this heading">¬∂</a></h2>
<p>Here is a <strong>very simple Flutter example</strong> that demonstrates the
<strong>scrollBehavior</strong> parameter in <strong>MaterialApp.router.</strong></p>
<p>scrollBehavior changes <strong>how scrolling works</strong> (with mouse, touch, stylus, trackpad, etc.).
In this example, we customize it so <strong>mouse dragging also scrolls the page</strong> on desktop.</p>
<p><strong>‚úÖ Simple program: scrollBehavior in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/gestures.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple router</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT</span>
<span class="w">            </span><span class="nl">scrollBehavior:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">MyCustomScrollBehavior</span><span class="p">(),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// -------- CUSTOM SCROLL BEHAVIOR --------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyCustomScrollBehavior</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MaterialScrollBehavior</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyCustomScrollBehavior</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Set</span><span class="o">&lt;</span><span class="n">PointerDeviceKind</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">get</span><span class="w"> </span><span class="n">dragDevices</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">PointerDeviceKind</span><span class="p">.</span><span class="n">touch</span><span class="p">,</span><span class="w">   </span><span class="c1">// Mobile touch</span>
<span class="w">            </span><span class="n">PointerDeviceKind</span><span class="p">.</span><span class="n">mouse</span><span class="p">,</span><span class="w">   </span><span class="c1">// Desktop mouse drag</span>
<span class="w">            </span><span class="n">PointerDeviceKind</span><span class="p">.</span><span class="n">trackpad</span><span class="p">,</span>
<span class="w">            </span><span class="n">PointerDeviceKind</span><span class="p">.</span><span class="n">stylus</span><span class="p">,</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// -------- SIMPLE ROUTER --------</span>

<span class="w">    </span><span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span>
<span class="w">        </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>

<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ScrollPage</span><span class="p">(),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Page removed: </span><span class="si">${</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="c1">// -------- PAGE WITH SCROLL --------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">ScrollPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">ScrollPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Scroll Behavior Example&quot;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">ListView</span><span class="p">.</span><span class="n">builder</span><span class="p">(</span>
<span class="w">                </span><span class="nl">itemCount:</span><span class="w"> </span><span class="m">50</span><span class="p">,</span>
<span class="w">                </span><span class="nl">itemBuilder:</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="k">return</span><span class="w"> </span><span class="n">ListTile</span><span class="p">(</span>
<span class="w">                        </span><span class="nl">title:</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Item </span><span class="si">${</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">),</span>
<span class="w">                    </span><span class="p">);</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ What you will notice</strong></p>
<p>Run the app and try to scroll:</p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Behavior</p></th>
<th class="head"><p>Works?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Touch screen</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Mouse wheel</p></td>
<td><p>‚úÖ</p></td>
</tr>
<tr class="row-even"><td><p>Mouse drag</p></td>
<td><p>‚úÖ (because of custom scrollBehavior)</p></td>
</tr>
<tr class="row-odd"><td><p>Trackpad</p></td>
<td><p>‚úÖ</p></td>
</tr>
</tbody>
</table>
</div>
<p>Without scrollBehavior, mouse drag scrolling usually <strong>does NOT work.</strong></p>
<p><strong>‚úÖ In very simple words</strong></p>
<p>scrollBehavior =</p>
<blockquote>
<div><p>‚ÄúFlutter, I want to customize how scrolling works in my app.‚Äù</p>
</div></blockquote>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Example change</p></th>
<th class="head"><p>Result</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Add PointerDeviceKind.mouse</p></td>
<td><p>Drag with mouse ‚úÖ</p></td>
</tr>
<tr class="row-odd"><td><p>Remove it</p></td>
<td><p>Only wheel works ‚ùå</p></td>
</tr>
<tr class="row-even"><td><p>Add stylus</p></td>
<td><p>Stylus dragging ‚úÖ</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<hr class="docutils" />
<section id="onnavigationnotification">
<h2>‚úÖ31.onNavigationNotification:<a class="headerlink" href="#onnavigationnotification" title="Link to this heading">¬∂</a></h2>
<p>Here is a very <strong>simple and clean Flutter example</strong> that demonstrates the
<strong>onNavigationNotification</strong> parameter in <strong>MaterialApp.router.</strong></p>
<p>This parameter lets your app <strong>listen to navigation events</strong> (like page change, back button press, push/pop) and react to them.</p>
<p>In this example:</p>
<blockquote>
<div><p>‚úÖ When navigation happens, a message is printed in the console</p>
<p>‚úÖ And a small text on screen changes</p>
</div></blockquote>
<p><strong>‚úÖ Simple program: onNavigationNotification in MaterialApp.router</strong></p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="k">import</span><span class="w"> </span><span class="s1">&#39;package:flutter/material.dart&#39;</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="n">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">runApp</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="c1">// Simple Router</span>
<span class="kd">final</span><span class="w"> </span><span class="n">RouterConfig</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_router</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RouterConfig</span><span class="p">(</span>
<span class="w">    </span><span class="nl">routerDelegate:</span><span class="w"> </span><span class="n">_SimpleRouterDelegate</span><span class="p">(),</span>
<span class="p">);</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">MyApp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">MyApp</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">MaterialApp</span><span class="p">.</span><span class="n">router</span><span class="p">(</span>
<span class="w">            </span><span class="nl">routerConfig:</span><span class="w"> </span><span class="n">_router</span><span class="p">,</span>

<span class="w">            </span><span class="c1">// üëá THIS IS WHAT YOU ASKED ABOUT</span>
<span class="w">            </span><span class="nl">onNavigationNotification:</span><span class="w"> </span><span class="p">(</span><span class="n">NavigationNotification</span><span class="w"> </span><span class="n">notification</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">debugPrint</span><span class="p">(</span><span class="s1">&#39;Navigation happened: </span><span class="si">${</span><span class="n">notification</span><span class="p">.</span><span class="n">runtimeType</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">);</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w"> </span><span class="c1">// means &quot;I handled it&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- ROUTER ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">_SimpleRouterDelegate</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">RouterDelegate</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="kd">with</span><span class="w"> </span><span class="n">ChangeNotifier</span><span class="p">,</span><span class="w"> </span><span class="n">PopNavigatorRouterDelegateMixin</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="w"> </span><span class="n">navigatorKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GlobalKey</span><span class="o">&lt;</span><span class="n">NavigatorState</span><span class="o">&gt;</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_secondPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goToNext</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_secondPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">goBack</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_secondPage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyListeners</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Navigator</span><span class="p">(</span>
<span class="w">            </span><span class="nl">key:</span><span class="w"> </span><span class="n">navigatorKey</span><span class="p">,</span>

<span class="w">            </span><span class="nl">pages:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">HomePage</span><span class="p">(</span><span class="nl">onNext:</span><span class="w"> </span><span class="n">goToNext</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">_secondPage</span><span class="p">)</span>
<span class="w">                </span><span class="n">MaterialPage</span><span class="p">(</span>
<span class="w">                    </span><span class="nl">child:</span><span class="w"> </span><span class="n">SecondPage</span><span class="p">(</span><span class="nl">onBack:</span><span class="w"> </span><span class="n">goBack</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">],</span>

<span class="w">            </span><span class="c1">// ‚úÖ New API</span>
<span class="w">            </span><span class="nl">onDidRemovePage:</span><span class="w"> </span><span class="p">(</span><span class="n">Page</span><span class="o">&lt;</span><span class="kt">Object</span><span class="o">?&gt;</span><span class="w"> </span><span class="n">page</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">debugPrint</span><span class="p">(</span><span class="s2">&quot;Page removed: </span><span class="si">${</span><span class="n">page</span><span class="p">.</span><span class="n">key</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">);</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Future</span><span class="o">&lt;</span><span class="kt">void</span><span class="o">&gt;</span><span class="w"> </span><span class="n">setNewRoutePath</span><span class="p">(</span><span class="kt">Object</span><span class="w"> </span><span class="n">configuration</span><span class="p">)</span><span class="w"> </span><span class="kd">async</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>

<span class="c1">// ---------------- HOME PAGE ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">HomePage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">onNext</span><span class="p">;</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">HomePage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">onNext</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Home Page&quot;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">onNext</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Go to Next Page&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// ---------------- SECOND PAGE ----------------</span>

<span class="kd">class</span><span class="w"> </span><span class="nc">SecondPage</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">StatelessWidget</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">VoidCallback</span><span class="w"> </span><span class="n">onBack</span><span class="p">;</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">SecondPage</span><span class="p">({</span><span class="k">super</span><span class="p">.</span><span class="n">key</span><span class="p">,</span><span class="w"> </span><span class="kd">required</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="n">onBack</span><span class="p">});</span>

<span class="w">    </span><span class="nd">@override</span>
<span class="w">    </span><span class="n">Widget</span><span class="w"> </span><span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Scaffold</span><span class="p">(</span>
<span class="w">            </span><span class="nl">appBar:</span><span class="w"> </span><span class="n">AppBar</span><span class="p">(</span><span class="nl">title:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Second Page&quot;</span><span class="p">)),</span>
<span class="w">            </span><span class="nl">body:</span><span class="w"> </span><span class="n">Center</span><span class="p">(</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="n">ElevatedButton</span><span class="p">(</span>
<span class="w">                </span><span class="nl">onPressed:</span><span class="w"> </span><span class="n">onBack</span><span class="p">,</span>
<span class="w">                </span><span class="nl">child:</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">Text</span><span class="p">(</span><span class="s2">&quot;Go Back&quot;</span><span class="p">),</span>
<span class="w">                </span><span class="p">),</span>
<span class="w">            </span><span class="p">),</span>
<span class="w">        </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>‚úÖ What you will see in the console</strong></p>
<p>When you click the button to navigate:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Navigation</span><span class="w"> </span><span class="nl">happened:</span><span class="w"> </span><span class="n">NavigationNotification</span>
</pre></div>
</div>
<p>And when a page is removed:</p>
<div class="highlight-dart notranslate"><div class="highlight"><pre><span></span><span class="n">Page</span><span class="w"> </span><span class="nl">removed:</span><span class="w"> </span><span class="kc">null</span>
</pre></div>
</div>
<p><strong>‚úÖ In very simple words</strong></p>
<p>onNavigationNotification means:</p>
<blockquote>
<div><p>üí¨ ‚ÄúFlutter, tell me whenever navigation happens in my app.‚Äù</p>
</div></blockquote>
<p>You can use it for:</p>
<blockquote>
<div><p>‚úÖ Debugging navigation</p>
<p>‚úÖ Analytics (track page change)</p>
<p>‚úÖ Custom logging</p>
<p>‚úÖ Security checks</p>
</div></blockquote>
<p><strong>‚úÖ Quick comparison</strong></p>
<div class="table-wrapper docutils container">
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Purpose</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>onNavigationNotification</p></td>
<td><p>Listen to navigation events</p></td>
</tr>
<tr class="row-odd"><td><p>onDidRemovePage</p></td>
<td><p>Know when a page is removed</p></td>
</tr>
<tr class="row-even"><td><p>routerConfig</p></td>
<td><p>Controls which page is shown</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="1_3_gorouter.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">GoRouter</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="1_materialapp.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">MaterialApp</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">MaterialApp.router</a><ul>
<li><a class="reference internal" href="#what-is-materialapp-router">üìå What is MaterialApp.router()?</a></li>
<li><a class="reference internal" href="#all-named-parameters">All named parameters</a></li>
<li><a class="reference internal" href="#routerconfig">‚úÖ1.routerConfig:</a></li>
<li><a class="reference internal" href="#routerdelegate">‚úÖ2.routerDelegate:</a></li>
<li><a class="reference internal" href="#routeinformationparser">‚úÖ3.routeInformationParser:</a></li>
<li><a class="reference internal" href="#routeinformationprovider">‚úÖ4.routeInformationProvider:</a></li>
<li><a class="reference internal" href="#backbuttondispatcher">‚úÖ5.backButtonDispatcher:</a></li>
<li><a class="reference internal" href="#builder">‚úÖ6.builder:</a></li>
<li><a class="reference internal" href="#title">‚úÖ7.title:</a></li>
<li><a class="reference internal" href="#ongeneratetitle">‚úÖ8.onGenerateTitle:</a></li>
<li><a class="reference internal" href="#color">‚úÖ9.color:</a></li>
<li><a class="reference internal" href="#theme">‚úÖ10.theme:</a></li>
<li><a class="reference internal" href="#darktheme">‚úÖ11.darkTheme:</a></li>
<li><a class="reference internal" href="#highcontrasttheme">‚úÖ12.highContrastTheme:</a></li>
<li><a class="reference internal" href="#highcontrastdarktheme">‚úÖ13.highContrastDarkTheme:</a></li>
<li><a class="reference internal" href="#thememode">‚úÖ14.themeMode:</a></li>
<li><a class="reference internal" href="#themeanimationduration">‚úÖ15.themeAnimationDuration:</a></li>
<li><a class="reference internal" href="#themeanimationcurve">‚úÖ16.themeAnimationCurve:</a></li>
<li><a class="reference internal" href="#themeanimationstyle">‚úÖ17.themeAnimationStyle:</a></li>
<li><a class="reference internal" href="#locale">‚úÖ18.locale:</a></li>
<li><a class="reference internal" href="#supportedlocales">‚úÖ19.supportedLocales:</a></li>
<li><a class="reference internal" href="#localizationsdelegates">‚úÖ20.localizationsDelegates:</a></li>
<li><a class="reference internal" href="#localeresolutioncallback">‚úÖ21.localeResolutionCallback:</a></li>
<li><a class="reference internal" href="#localelistresolutioncallback">‚úÖ22.localeListResolutionCallback:</a></li>
<li><a class="reference internal" href="#debugshowcheckedmodebanner">‚úÖ23.debugShowCheckedModeBanner:</a></li>
<li><a class="reference internal" href="#debugshowmaterialgrid">‚úÖ24.debugShowMaterialGrid:</a></li>
<li><a class="reference internal" href="#showperformanceoverlay">‚úÖ25.showPerformanceOverlay:</a></li>
<li><a class="reference internal" href="#showsemanticsdebugger">‚úÖ26.showSemanticsDebugger:</a></li>
<li><a class="reference internal" href="#shortcuts">‚úÖ27.shortcuts:</a></li>
<li><a class="reference internal" href="#actions">‚úÖ28.actions:</a></li>
<li><a class="reference internal" href="#restorationscopeid">‚úÖ29.restorationScopeId:</a></li>
<li><a class="reference internal" href="#scrollbehavior">‚úÖ30.scrollBehavior:</a></li>
<li><a class="reference internal" href="#onnavigationnotification">‚úÖ31.onNavigationNotification:</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=8d563738"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/custom.js"></script>
    </body>
</html>